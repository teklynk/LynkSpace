!function(){var es,ev,eS,eE,eM,ey,eC=tinymce.util.Tools.resolve("tinymce.ThemeManager"),eN=tinymce.util.Tools.resolve("tinymce.Env"),eq=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),eU=tinymce.util.Tools.resolve("tinymce.util.Delay"),ew=function(a){return a.reduce(function(b,c){return Array.isArray(c)?b.concat(ew(c)):b.concat(c)},[])},eX={flatten:ew},eH=function(b,c){for(var d=0;d<c.length;d++){var a=(0,c[d])(b);if(a){return a}}return null},eT=function(a,b){return{id:a,rect:b}},eQ=function(a){return{x:a.left,y:a.top,w:a.width,h:a.height}},eF=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}},eO=function(a){var b=eq.DOM.getViewPort();return{x:a.x+b.x,y:a.y+b.y,w:a.w,h:a.h}},eB=function(a){var b=a.getBoundingClientRect();return eO({x:b.left,y:b.top,w:Math.max(a.clientWidth,a.offsetWidth),h:Math.max(a.clientHeight,a.offsetHeight)})},eV=function(a,b){return eB(b)},el=function(a){return eB(a.getContentAreaContainer()||a.getBody())},em=function(a){var b=a.selection.getBoundingClientRect();return b?eO(eQ(b)):null},ep=function(b,a){return function(c){for(var d=0;d<a.length;d++){if(a[d].predicate(b)){return eT(a[d].id,eV(c,b))}}return null}},eY=function(a,b){return function(c){for(var d=0;d<a.length;d++){for(var f=0;f<b.length;f++){if(b[f].predicate(a[d])){return eT(b[f].id,eV(c,a[d]))}}}return null}},fA=tinymce.util.Tools.resolve("tinymce.util.Tools"),fa=function(a,b){return{id:a,predicate:b}},fy=function(a){return fA.map(a,function(b){return fa(b.id,b.predicate)})},eJ=function(a){return function(b){return b.selection.isCollapsed()?null:eT(a,em(b))}},e8=function(a,b){return function(c){var d,f=c.schema.getTextBlockElements();for(d=0;d<a.length;d++){if("TABLE"===a[d].nodeName){return null}}for(d=0;d<a.length;d++){if(a[d].nodeName in f){return c.dom.isEmpty(a[d])?eT(b,em(c)):null}}return null}},fs=function(a){a.fire("SkinLoaded")},fj=function(a){return a.fire("BeforeRenderUI")},e9=tinymce.util.Tools.resolve("tinymce.EditorManager"),fg=function(a){return function(b){return typeof b===a}},ff=function(a){return Array.isArray(a)},fz=function(a){return fg("string")(a)},fc=function(a){return fg("number")(a)},e3=function(a){return fg("boolean")(a)},fD=function(a){return fg("function")(a)},fC=(fg("object"),ff),fl=function(a,b){if(b(a)){return !0}throw new Error("Default value doesn't match requested type.")},fq=function(a){return function(c,d,f){var b=c.settings;return fl(f,a),d in b&&a(b[d])?b[d]:f}},ek={getStringOr:fq(fz),getBoolOr:fq(e3),getNumberOr:fq(fc),getHandlerOr:fq(fD),getToolbarItemsOr:(es=fC,function(k,h,d){var g,b,c,m,j,f=h in k.settings?k.settings[h]:d;return fl(d,es),b=d,fC(g=f)?g:fz(g)?"string"==typeof(m=g)?(j=/[ ,]/,m.split(j).filter(function(a){return 0<a.length})):m:e3(g)?(c=b,!1===g?[]:c):b})},fx=tinymce.util.Tools.resolve("tinymce.geom.Rect"),e6=function(a,b){return{rect:a,position:b}},e4=function(a,b){return{x:b.x,y:b.y,w:a.w,h:a.h}},ez=function(k,h,d,g,b){var c,m,j,f={x:g.x,y:g.y,w:g.w+(g.w<b.w+d.w?b.w:0),h:g.h+(g.h<b.h+d.h?b.h:0)};return c=fx.findBestRelativePosition(b,d,f,k),d=fx.clamp(d,f),c?(m=fx.relativePosition(b,d,c),j=e4(b,m),e6(j,c)):(d=fx.intersect(f,d))?((c=fx.findBestRelativePosition(b,d,f,h))?(m=fx.relativePosition(b,d,c),j=e4(b,m)):j=e4(b,d),e6(j,c)):null},e1=function(a,b,c){return ez(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],a,b,c)},fT=function(a,b,c){return ez(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr","cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr","cr-cl"],a,b,c)},e2=function(b,d,f,a){var c;return"function"==typeof b?(c=b({elementRect:eF(d),contentAreaRect:eF(f),panelRect:eF(a)}),eQ(c)):a},eK=function(a){return a.panelRect},fp=function(a){return ek.getToolbarItemsOr(a,"selection_toolbar",["bold","italic","|","quicklink","h2","h3","blockquote"])},fv=function(a){return ek.getToolbarItemsOr(a,"insert_toolbar",["quickimage","quicktable"])},fm=function(a){return ek.getHandlerOr(a,"inline_toolbar_position_handler",eK)},e0=function(b){var d,g,a,c,f=b.settings;return f.skin_url?(a=b,c=f.skin_url,a.documentBaseURI.toAbsolute(c)):(d=f.skin,g=e9.baseURL+"/skins/",d?g+d:g+"lightgray")},fb=function(a){return !1===a.settings.skin},a0=function(b,c){var a=e0(b),d=function(){var f,g,h;g=c,h=function(){f._skinLoaded=!0,fs(f),g()},(f=b).initialized?h():f.on("init",h)};fb(b)?d():(eq.DOM.styleSheetLoader.load(a+"/skin.min.css",d),b.contentCSS.push(a+"/content.inline.min.css"))},dX=function(b){var d,g,a,c,f=b.contextToolbars;return eX.flatten([f||[],(d=b,g="img",a="image",c="alignleft aligncenter alignright",{predicate:function(e){return d.dom.is(e,g)},id:a,items:c})])},cg=function(b,f){var h,a,d,g,c;return c=(g=b).selection.getNode(),a=g.dom.getParents(c,"*"),d=fy(f),(h=eH(b,[ep(a[0],d),eJ("text"),e8(a,"insert"),eY(a,d)]))&&h.rect?h:null},dd=function(a,b){return function(){var c,d,f;a.removed||(f=a,document.activeElement!==f.getBody())||(c=dX(a),(d=cg(a,c))?b.show(a,d.id,d.rect,c):b.hide())}},bw=function(m,h){var d,g,b,c,p,j=eU.throttle(dd(m,h),0),f=eU.throttle((b=dd(d=m,g=h),function(){d.removed||g.inForm()||b()}),0),k=(c=m,p=h,function(){var a=dX(c),i=cg(c,a);i&&p.reposition(c,i.id,i.rect)});m.on("blur hide ObjectResizeStart",h.hide),m.on("click",j),m.on("nodeChange mouseup",f),m.on("ResizeEditor keyup",j),m.on("ResizeWindow",k),eq.DOM.bind(eN.container,"scroll",k),m.on("remove",function(){eq.DOM.unbind(eN.container,"scroll",k),h.remove()}),m.shortcuts.add("Alt+F10,F10","",h.focus)},b1=function(a,b){return a0(a,function(){var d,c;bw(a,b),c=b,(d=a).shortcuts.remove("meta+k"),d.shortcuts.add("meta+k","",function(){var f=dX(d),g=eH(d,[eJ("quicklink")]);g&&c.show(d,g.id,g.rect,f)})}),{}},bb=function(a,b){return a.inline?b1(a,b):function(c){throw new Error(c)}("inlite theme only supports inline mode.")},fI=function(){for(var a=[],b=0;b<arguments.length;b++){a[b]=arguments[b]}},cI=function(a){return function(){return a}},aP=cI(!1),eu=cI(!0),d8=aP,dN=eu,ds=function(){return cy},cy=(eM={fold:function(a,b){return a()},is:d8,isSome:d8,isNone:dN,getOr:eE=function(a){return a},getOrThunk:eS=function(a){return a()},getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){return undefined},or:eE,orThunk:eS,map:ds,ap:ds,each:function(){},bind:ds,flatten:ds,exists:d8,forall:dN,filter:ds,equals:ev=function(a){return a.isNone()},equals_:ev,toArray:function(){return[]},toString:cI("none()")},Object.freeze&&Object.freeze(eM),eM),dD=function(f){var b=function(){return f},d=function(){return c},a=function(e){return e(f)},c={fold:function(g,h){return h(f)},is:function(e){return f===e},isSome:dN,isNone:d8,getOr:b,getOrThunk:b,getOrDie:b,getOrNull:b,getOrUndefined:b,or:d,orThunk:d,map:function(e){return dD(e(f))},ap:function(e){return e.fold(ds,function(g){return dD(g(f))})},each:function(e){e(f)},bind:a,flatten:b,exists:a,forall:a,filter:function(e){return e(f)?c:cy},equals:function(e){return e.is(f)},equals_:function(g,h){return g.fold(d8,function(e){return h(f,e)})},toArray:function(){return[f]},toString:function(){return"some("+f+")"}};return c},bR={some:dD,none:ds,from:function(a){return null===a||a===undefined?cy:dD(a)}},aF=function(a){return function(b){return function(c){if(null===c){return"null"}var d=typeof c;return"object"===d&&Array.prototype.isPrototypeOf(c)?"array":"object"===d&&String.prototype.isPrototypeOf(c)?"string":d}(b)===a}},e5=aF("function"),fW=aF("number"),f6=(ey=Array.prototype.indexOf)===undefined?function(a,b){return cB(a,b)}:function(a,b){return ey.call(a,b)},av=function(a,b){return cT(a,b).isSome()},ac=function(b,d){for(var g=b.length,a=new Array(g),c=0;c<g;c++){var f=b[c];a[c]=d(f,c,b)}return a},aV=function(b,c){for(var d=0,a=b.length;d<a;d++){c(b[d],d,b)}},cW=function(b,d){for(var g=[],a=0,c=b.length;a<c;a++){var f=b[a];d(f,a,b)&&g.push(f)}return g},aA=function(b,d){for(var f=0,a=b.length;f<a;f++){var c=b[f];if(d(c,f,b)){return bR.some(c)}}return bR.none()},cT=function(b,c){for(var d=0,a=b.length;d<a;d++){if(c(b[d],d,b)){return bR.some(d)}}return bR.none()},cB=function(b,c){for(var d=0,a=b.length;d<a;++d){if(b[d]===c){return d}}return -1},fO=Array.prototype.push,dQ=(Array.prototype.slice,e5(Array.from)&&Array.from,0),cM={id:function(){return"mceu_"+dQ++},create:function(b,c,d){var a=document.createElement(b);return eq.DOM.setAttribs(a,c),"string"==typeof d?a.innerHTML=d:fA.each(d,function(e){e.nodeType&&a.appendChild(e)}),a},createFragment:function(a){return eq.DOM.createFragment(a)},getWindowSize:function(){return eq.DOM.getViewPort()},getSize:function(b){var c,d;if(b.getBoundingClientRect){var a=b.getBoundingClientRect();c=Math.max(a.width||a.right-a.left,b.offsetWidth),d=Math.max(a.height||a.bottom-a.bottom,b.offsetHeight)}else{c=b.offsetWidth,d=b.offsetHeight}return{width:c,height:d}},getPos:function(a,b){return eq.DOM.getPos(a,b||cM.getContainer())},getContainer:function(){return eN.container?eN.container:document.body},getViewPort:function(a){return eq.DOM.getViewPort(a)},get:function(a){return document.getElementById(a)},addClass:function(a,b){return eq.DOM.addClass(a,b)},removeClass:function(a,b){return eq.DOM.removeClass(a,b)},hasClass:function(a,b){return eq.DOM.hasClass(a,b)},toggleClass:function(a,b,c){return eq.DOM.toggleClass(a,b,c)},css:function(a,b,c){return eq.DOM.setStyle(a,b,c)},getRuntimeStyle:function(a,b){return eq.DOM.getStyle(a,b,!0)},on:function(b,c,d,a){return eq.DOM.bind(b,c,d,a)},off:function(a,b,c){return eq.DOM.unbind(a,b,c)},fire:function(a,b,c){return eq.DOM.fire(a,b,c)},innerHtml:function(a,b){eq.DOM.setHTML(a,b)}},dG=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),dw=tinymce.util.Tools.resolve("tinymce.util.Class"),aK=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),dh=function(a){var b;if(a){return"number"==typeof a?{top:a=a||0,left:a,bottom:a,right:a}:(1===(b=(a=a.split(" ")).length)?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]),{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0})}},bU=function(b,a){function c(d){var f=parseFloat(function(g){var h=b.ownerDocument.defaultView;if(h){var i=h.getComputedStyle(b,null);return i?(g=g.replace(/[A-Z]/g,function(e){return"-"+e}),i.getPropertyValue(g)):null}return b.currentStyle[g]}(d));return isNaN(f)?0:f}return{top:c(a+"TopWidth"),right:c(a+"RightWidth"),bottom:c(a+"BottomWidth"),left:c(a+"LeftWidth")}};function bm(){}function a6(a){this.cls=[],this.cls._map={},this.onchange=a||bm,this.prefix=""}fA.extend(a6.prototype,{add:function(a){return a&&!this.contains(a)&&(this.cls._map[a]=!0,this.cls.push(a),this._change()),this},remove:function(a){if(this.contains(a)){var b=void 0;for(b=0;b<this.cls.length&&this.cls[b]!==a;b++){}this.cls.splice(b,1),delete this.cls._map[a],this._change()}return this},toggle:function(a,b){var c=this.contains(a);return c!==b&&(c?this.remove(a):this.add(a),this._change()),this},contains:function(a){return !!this.cls._map[a]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),a6.prototype.toString=function(){var a;if(this.clsValue){return this.clsValue}a="";for(var b=0;b<this.cls.length;b++){0<b&&(a+=" "),a+=this.prefix+this.cls[b]}return a};var d1,fh,fF,aj=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,cp=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,b5=/^\s*|\s*$/g,bH=dw.extend({init:function(c){var e=this.match;function d(f,h,j){var a;function g(i){i&&h.push(i)}return g(function(i){if(i){return i=i.toLowerCase(),function(k){return"*"===i||k.type===i}}}((a=aj.exec(f.replace(b5,"")))[1])),g(function(i){if(i){return function(k){return k._name===i}}}(a[2])),g(function(i){if(i){return i=i.split("."),function(k){for(var l=i.length;l--;){if(!k.classes.contains(i[l])){return !1}}return !0}}}(a[3])),g(function(m,k,l){if(m){return function(i){var n=i[m]?i[m]():"";return k?"="===k?n===l:"*="===k?0<=n.indexOf(l):"~="===k?0<=(" "+n+" ").indexOf(" "+l+" "):"!="===k?n!==l:"^="===k?0===n.indexOf(l):"$="===k&&n.substr(n.length-l.length)===l:!!l}}}(a[4],a[5],a[6])),g(function(k){var l;if(k){return(k=/(?:not\((.+)\))|(.+)/i.exec(k))[1]?(l=b(k[1],[]),function(i){return !e(i,l)}):(k=k[2],function(i,m,o){return"first"===k?0===m:"last"===k?m===o-1:"even"===k?m%2==0:"odd"===k?m%2==1:!!i[k]&&i[k]()})}}(a[7])),h.pseudo=!!a[7],h.direct=j,h}function b(f,h){var k,a,g,j=[];do{if(cp.exec(""),(a=cp.exec(f))&&(f=a[3],j.push(a[1]),a[2])){k=a[3];break}}while(a);for(k&&b(k,h),f=[],g=0;g<j.length;g++){">"!==j[g]&&f.push(d(j[g],[],">"===j[g-1]))}return h.push(f),h}this._selectors=b(c,[])},match:function(C,x){var j,q,b,g,D,A,p,B,z,y,w,v,k;for(j=0,q=(x=x||this._selectors).length;j<q;j++){for(k=C,v=0,b=(g=(D=x[j]).length)-1;0<=b;b--){for(B=D[b];k;){if(B.pseudo){for(z=y=(w=k.parent().items()).length;z--&&w[z]!==k;){}}for(A=0,p=B.length;A<p;A++){if(!B[A](k,z,y)){A=p+1;break}}if(A===p){v++;break}if(b===g-1){break}k=k.parent()}}if(v===g){return !0}}return !1},find:function(d){var f,h,a=[],b=this._selectors;function g(v,q,k){var p,c,j,w,u,m=q[k];for(p=0,c=v.length;p<c;p++){for(u=v[p],j=0,w=m.length;j<w;j++){if(!m[j](u,p,c)){j=w+1;break}}if(j===w){k===q.length-1?a.push(u):u.items&&g(u.items(),q,k+1)}else{if(m.direct){return}}u.items&&g(u.items(),q,k)}}if(d.items){for(f=0,h=b.length;f<h;f++){g(d.items(),b[f],0)}1<h&&(a=function(j){for(var k,l=[],c=j.length;c--;){(k=j[c]).__checked||(l.push(k),k.__checked=1)}for(c=l.length;c--;){delete l[c].__checked}return l}(a))}return d1||(d1=bH.Collection),new d1(a)}}),bA=Array.prototype.push,cc=Array.prototype.slice;fF={length:0,init:function(a){a&&this.add(a)},add:function(a){return fA.isArray(a)?bA.apply(this,a):a instanceof fh?this.add(a.toArray()):bA.call(this,a),this},set:function(b){var c,d=this,a=d.length;for(d.length=0,d.add(b),c=d.length;c<a;c++){delete d[c]}return d},filter:function(d){var b,g,a,c,f=[];for("string"==typeof d?(d=new bH(d),c=function(e){return d.match(e)}):c=d,b=0,g=this.length;b<g;b++){c(a=this[b])&&f.push(a)}return new fh(f)},slice:function(){return new fh(cc.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return fA.each(this,a),this},toArray:function(){return fA.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;){}return b},reverse:function(){return new fh(fA.toArray(this).reverse())},hasClass:function(a){return !!this[0]&&this[0].classes.contains(a)},prop:function(b,c){var a;return c!==undefined?(this.each(function(d){d[b]&&d[b](c)}),this):(a=this[0])&&a[b]?a[b]():void 0},exec:function(a){var b=fA.toArray(arguments).slice(1);return this.each(function(c){c[a]&&c[a].apply(c,b)}),this},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}},fA.each("fire on off show hide append prepend before after reflow".split(" "),function(a){fF[a]=function(){var b=fA.toArray(arguments);return this.each(function(c){a in c&&c[a].apply(c,b)}),this}}),fA.each("text name disabled active selected checked visible parent value data".split(" "),function(a){fF[a]=function(b){return this.prop(a,b)}}),fh=dw.extend(fF);var bK=bH.Collection=fh,c3=function(a){this.create=a.create};c3.create=function(a,b){return new c3({create:function(f,g){var d,c=function(e){f.set(g,e.value)};return f.on("change:"+g,function(e){a.set(b,e.value)}),a.on("change:"+b,c),(d=f._bindings)||(d=f._bindings=[],f.on("destroy",function(){for(var e=d.length;e--;){d[e]()}})),d.push(function(){a.off("change:"+b,c)}),a.get(b)}})};var eG=tinymce.util.Tools.resolve("tinymce.util.Observable");function f1(a){return 0<a.nodeType}var eb,bg,c6=dw.extend({Mixins:[eG],init:function(a){var b,c;for(b in a=a||{}){(c=a[b]) instanceof c3&&(a[b]=c.create(this,b))}this.data=a},set:function(d,g){var b,c,f=this.data[d];if(g instanceof c3&&(g=g.create(this,d)),"object"==typeof d){for(b in d){this.set(b,d[b])}return this}return function a(k,l){var h,j;if(k===l){return !0}if(null===k||null===l){return k===l}if("object"!=typeof k||"object"!=typeof l){return k===l}if(fA.isArray(l)){if(k.length!==l.length){return !1}for(h=k.length;h--;){if(!a(k[h],l[h])){return !1}}}if(f1(k)||f1(l)){return k===l}for(h in j={},l){if(!a(k[h],l[h])){return !1}j[h]=!0}for(h in k){if(!j[h]&&!a(k[h],l[h])){return !1}}return !0}(f,g)||(this.data[d]=g,c={target:this,name:d,value:g,oldValue:f},this.fire("change:"+d,c),this.fire("change",c)),this},get:function(a){return this.data[a]},has:function(a){return a in this.data},bind:function(a){return c3.create(this,a)},destroy:function(){this.fire("destroy")}}),a5={},d5={add:function(a){var b=a.parent();if(b){if(!b._layout||b._layout.isNative()){return}a5[b._id]||(a5[b._id]=b),eb||(eb=!0,eU.requestAnimationFrame(function(){var c,d;for(c in eb=!1,a5){(d=a5[c]).state.get("rendered")&&d.reflow()}a5={}},document.body))}},remove:function(a){a5[a._id]&&delete a5[a._id]}},cv=function(a){return a?a.getRoot().uiContainer:null},dm={getUiContainerDelta:function(b){var d=cv(b);if(d&&"static"!==eq.DOM.getStyle(d,"position",!0)){var f=eq.DOM.getPos(d),a=d.scrollLeft-f.x,c=d.scrollTop-f.y;return bR.some({x:a,y:c})}return bR.none()},setUiContainer:function(a,b){var c=eq.DOM.select(a.settings.ui_container)[0];b.getRoot().uiContainer=c},getUiContainer:cv,inheritUiContainer:function(a,b){return b.uiContainer=cv(a)}},bE="onmousewheel" in document,b9=!1,bl=0,fS={Statics:{classPrefix:"mce-"},isRtl:function(){return bg.rtl},classPrefix:"mce-",init:function(d){var b,f,a=this;function c(g){var h;for(g=g.split(" "),h=0;h<g.length;h++){a.classes.add(g[h])}}a.settings=d=fA.extend({},a.Defaults,d),a._id=d.id||"mceu_"+bl++,a._aria={role:d.role},a._elmCache={},a.$=dG,a.state=new c6({visible:!0,active:!1,disabled:!1,value:""}),a.data=new c6(d.data),a.classes=new a6(function(){a.state.get("rendered")&&(a.getEl().className=this.toString())}),a.classes.prefix=a.classPrefix,(b=d.classes)&&(a.Defaults&&(f=a.Defaults.classes)&&b!==f&&c(f),c(b)),fA.each("title text name visible disabled active value".split(" "),function(e){e in d&&a[e](d[e])}),a.on("click",function(){if(a.disabled()){return !1}}),a.settings=d,a.borderBox=dh(d.border),a.paddingBox=dh(d.padding),a.marginBox=dh(d.margin),d.hidden&&a.hide()},Properties:"parent,name",getContainerElm:function(){var a=dm.getUiContainer(this);return a||cM.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);){a=a.parentNode}return b},initLayoutRect:function(){var G,B,q,x,b,k,H,E,w,F,D=this,C=D.settings,A=D.getEl();G=D.borderBox=D.borderBox||bU(A,"border"),D.paddingBox=D.paddingBox||bU(A,"padding"),D.marginBox=D.marginBox||bU(A,"margin"),F=cM.getSize(A),E=C.minWidth,w=C.minHeight,b=E||F.width,k=w||F.height,q=C.width,x=C.height,H=void 0!==(H=C.autoResize)?H:!q&&!x,q=q||b,x=x||k;var y=G.left+G.right,v=G.top+G.bottom,z=C.maxWidth||65535,j=C.maxHeight||65535;return D._layoutRect=B={x:C.x||0,y:C.y||0,w:q,h:x,deltaW:y,deltaH:v,contentW:q-y,contentH:x-v,innerW:q-y,innerH:x-v,startMinWidth:E||0,startMinHeight:w||0,minW:Math.min(b,z),minH:Math.min(k,j),maxW:z,maxH:j,autoResize:H,scrollW:0},D._lastLayoutRect={},B},layoutRect:function(d){var h,k,c,g,j,f=this,b=f._layoutRect;return b||(b=f.initLayoutRect()),d?(c=b.deltaW,g=b.deltaH,d.x!==undefined&&(b.x=d.x),d.y!==undefined&&(b.y=d.y),d.minW!==undefined&&(b.minW=d.minW),d.minH!==undefined&&(b.minH=d.minH),(k=d.w)!==undefined&&(k=(k=k<b.minW?b.minW:k)>b.maxW?b.maxW:k,b.w=k,b.innerW=k-c),(k=d.h)!==undefined&&(k=(k=k<b.minH?b.minH:k)>b.maxH?b.maxH:k,b.h=k,b.innerH=k-g),(k=d.innerW)!==undefined&&(k=(k=k<b.minW-c?b.minW-c:k)>b.maxW-c?b.maxW-c:k,b.innerW=k,b.w=k+c),(k=d.innerH)!==undefined&&(k=(k=k<b.minH-g?b.minH-g:k)>b.maxH-g?b.maxH-g:k,b.innerH=k,b.h=k+g),d.contentW!==undefined&&(b.contentW=d.contentW),d.contentH!==undefined&&(b.contentH=d.contentH),(h=f._lastLayoutRect).x===b.x&&h.y===b.y&&h.w===b.w&&h.h===b.h||((j=bg.repaintControls)&&j.map&&!j.map[f._id]&&(j.push(f),j.map[f._id]=!0),h.x=b.x,h.y=b.y,h.w=b.w,h.h=b.h),f):b},repaint:function(){var q,j,f,h,b,d,v,m,g,p,k=this;g=document.createRange?function(a){return a}:Math.round,q=k.getEl().style,h=k._layoutRect,m=k._lastRepaintRect||{},d=(b=k.borderBox).left+b.right,v=b.top+b.bottom,h.x!==m.x&&(q.left=g(h.x)+"px",m.x=h.x),h.y!==m.y&&(q.top=g(h.y)+"px",m.y=h.y),h.w!==m.w&&(p=g(h.w-d),q.width=(0<=p?p:0)+"px",m.w=h.w),h.h!==m.h&&(p=g(h.h-v),q.height=(0<=p?p:0)+"px",m.h=h.h),k._hasBody&&h.innerW!==m.innerW&&(p=g(h.innerW),(f=k.getEl("body"))&&((j=f.style).width=(0<=p?p:0)+"px"),m.innerW=h.innerW),k._hasBody&&h.innerH!==m.innerH&&(p=g(h.innerH),(f=f||k.getEl("body"))&&((j=j||f.style).height=(0<=p?p:0)+"px"),m.innerH=h.innerH),k._lastRepaintRect=m,k.fire("repaint",{},!1)},updateLayoutRect:function(){var a=this;a.parent()._lastRect=null,cM.css(a.getEl(),{width:"",height:""}),a._layoutRect=a._lastRepaintRect=a._lastLayoutRect=null,a.initLayoutRect()},on:function(b,d){var g,a,c,f=this;return cQ(f).on(b,"string"!=typeof(g=d)?g:function(e){return a||f.parentsAndSelf().each(function(h){var i=h.settings.callbacks;if(i&&(a=i[g])){return c=h,!1}}),a?a.call(c,e):(e.action=g,void this.fire("execute",e))}),f},off:function(a,b){return cQ(this).off(a,b),this},fire:function(b,c,d){if((c=c||{}).control||(c.control=this),c=cQ(this).fire(b,c),!1!==d&&this.parent){for(var a=this.parent();a&&!c.isPropagationStopped();){a.fire(b,c,!1),a=a.parent()}}return c},hasEventListeners:function(a){return cQ(this).has(a)},parents:function(a){var b,c=new bK;for(b=this.parent();b;b=b.parent()){c.add(b)}return a&&(c=c.filter(a)),c},parentsAndSelf:function(a){return new bK(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(a){var b=a?this._id+"-"+a:this._id;return this._elmCache[b]||(this._elmCache[b]=dG("#"+b)[0]),this._elmCache[b]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(b,c){var d=this,a=d.getEl(d.ariaTarget);return void 0===c?d._aria[b]:(d._aria[b]=c,d.state.get("rendered")&&a.setAttribute("role"===b?b:"aria-"+b,c),d)},encode:function(a,b){return !1!==b&&(a=this.translate(a)),(a||"").replace(/[&<>"]/g,function(c){return"&#"+c.charCodeAt(0)+";"})},translate:function(a){return bg.translate?bg.translate(a):a},before:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this),!0),this},after:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this)),this},remove:function(){var f,b,h=this,a=h.getEl(),d=h.parent();if(h.items){var g=h.items().toArray();for(b=g.length;b--;){g[b].remove()}}d&&d.items&&(f=[],d.items().each(function(e){e!==h&&f.push(e)}),d.items().set(f),d._lastRect=null),h._eventsRoot&&h._eventsRoot===h&&dG(a).off();var c=h.getRoot().controlIdLookup;return c&&delete c[h._id],a&&a.parentNode&&a.parentNode.removeChild(a),h.state.set("rendered",!1),h.state.destroy(),h.fire("remove"),h},renderBefore:function(a){return dG(a).before(this.renderHtml()),this.postRender(),this},renderTo:function(a){return dG(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var k,h,d,g,b,c=this,m=c.settings;for(g in c.$el=dG(c.getEl()),c.state.set("rendered",!0),m){0===g.indexOf("on")&&c.on(g.substr(2),m[g])}if(c._eventsRoot){for(d=c.parent();!b&&d;d=d.parent()){b=d._eventsRoot}if(b){for(g in b._nativeEvents){c._nativeEvents[g]=!0}}}aU(c),m.style&&(k=c.getEl())&&(k.setAttribute("style",m.style),k.style.cssText=m.style),c.settings.border&&(h=c.borderBox,c.$el.css({"border-top-width":h.top,"border-right-width":h.right,"border-bottom-width":h.bottom,"border-left-width":h.left}));var j=c.getRoot();for(var f in j.controlIdLookup||(j.controlIdLookup={}),(j.controlIdLookup[c._id]=c)._aria){c.aria(f,c._aria[f])}!1===c.state.get("visible")&&(c.getEl().style.display="none"),c.bindStates(),c.state.on("change:visible",function(a){var i,l=a.value;c.state.get("rendered")&&(c.getEl().style.display=!1===l?"none":"",c.getEl().getBoundingClientRect()),(i=c.parent())&&(i._lastRect=null),c.fire(l?"show":"hide"),d5.add(c)}),c.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(m){var h,d,g,b,c,p,j=this.getEl(),f=j.parentNode,k=function(l,q){var s,a,o=l;for(s=a=0;o&&o!==q&&o.nodeType;){s+=o.offsetLeft||0,a+=o.offsetTop||0,o=o.offsetParent}return{x:s,y:a}}(j,f);return h=k.x,d=k.y,g=j.offsetWidth,b=j.offsetHeight,c=f.clientWidth,p=f.clientHeight,"end"===m?(h-=c-g,d-=p-b):"center"===m&&(h-=c/2-g/2,d-=p/2-b/2),f.scrollLeft=h,f.scrollTop=d,this},getRoot:function(){for(var b,c=this,d=[];c;){if(c.rootControl){b=c.rootControl;break}d.push(c),c=(b=c).parent()}b||(b=this);for(var a=d.length;a--;){d[a].rootControl=b}return b},reflow:function(){d5.remove(this);var a=this.parent();return a&&a._layout&&!a._layout.isNative()&&a.reflow(),this}};function cQ(a){return a._eventDispatcher||(a._eventDispatcher=new aK({scope:a,toggleEvent:function(b,c){c&&aK.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&aU(a))}})),a._eventDispatcher}function aU(q){var w,k,g,h,j,b;function f(a){var c=q.getParentCtrl(a.target);c&&c.fire(a.type,a)}function x(){var a=h._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(c){c.fire("mouseleave",{target:c.getEl()})}),h._lastHoverCtrl=null)}function v(c){var u,z,a,l=q.getParentCtrl(c.target),y=h._lastHoverCtrl,d=0;if(l!==y){if((z=(h._lastHoverCtrl=l).parents().toArray().reverse()).push(l),y){for((a=y.parents().toArray().reverse()).push(y),d=0;d<a.length&&z[d]===a[d];d++){}for(u=a.length-1;d<=u;u--){(y=a[u]).fire("mouseleave",{target:y.getEl()})}}for(u=d;u<z.length;u++){(l=z[u]).fire("mouseenter",{target:l.getEl()})}}}function p(a){a.preventDefault(),"mousewheel"===a.type?(a.deltaY=-0.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-0.025*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail),a=q.fire("wheel",a)}if(j=q._nativeEvents){for((g=q.parents().toArray()).unshift(q),w=0,k=g.length;!h&&w<k;w++){h=g[w]._eventsRoot}for(h||(h=g[g.length-1]||q),q._eventsRoot=h,k=w,w=0;w<k;w++){g[w]._eventsRoot=h}var m=h._delegates;for(b in m||(m=h._delegates={}),j){if(!j){return !1}"wheel"!==b||b9?("mouseenter"===b||"mouseleave"===b?h._hasMouseEnter||(dG(h.getEl()).on("mouseleave",x).on("mouseover",v),h._hasMouseEnter=1):m[b]||(dG(h.getEl()).on(b,f),m[b]=!0),j[b]=!1):bE?dG(q.getEl()).on("mousewheel",p):dG(q.getEl()).on("DOMMouseScroll",p)}}}fA.each("text title visible disabled active value".split(" "),function(a){fS[a]=function(b){return 0===arguments.length?this.state.get(a):(void 0!==b&&this.state.set(a,b),this)}});var eR=bg=dw.extend(fS),eg=function(a){return"static"===cM.getRuntimeStyle(a,"position")},dU=function(a){return a.state.get("fixed")};function dA(y,p,h){var k,b,g,z,w,j,x,v,q,m;return q=cF(),g=(b=cM.getPos(p,dm.getUiContainer(y))).x,z=b.y,dU(y)&&eg(document.body)&&(g-=q.x,z-=q.y),k=y.getEl(),w=(m=cM.getSize(k)).width,j=m.height,x=(m=cM.getSize(p)).width,v=m.height,"b"===(h=(h||"").split(""))[0]&&(z+=v),"r"===h[1]&&(g+=x),"c"===h[0]&&(z+=Math.round(v/2)),"c"===h[1]&&(g+=Math.round(x/2)),"b"===h[3]&&(z-=j),"r"===h[4]&&(g-=w),"c"===h[3]&&(z-=Math.round(j/2)),"c"===h[4]&&(g-=Math.round(w/2)),{x:g,y:z,w:w,h:j}}var cF=function(){var a=window,b=Math.max(a.pageXOffset,document.body.scrollLeft,document.documentElement.scrollLeft),c=Math.max(a.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop);return{x:b,y:c,w:b+(a.innerWidth||document.documentElement.clientWidth),h:c+(a.innerHeight||document.documentElement.clientHeight)}},dK=function(a){var b,c=dm.getUiContainer(a);return c&&!dU(a)?{x:0,y:0,w:(b=c).scrollWidth-1,h:b.scrollHeight-1}:cF()},bY={testMoveRel:function(b,d){for(var f=dK(this),a=0;a<d.length;a++){var c=dA(this,b,d[a]);if(dU(this)){if(0<c.x&&c.x+c.w<f.w&&0<c.y&&c.y+c.h<f.h){return d[a]}}else{if(c.x>f.x&&c.x+c.w<f.w&&c.y>f.y&&c.y+c.h<f.h){return d[a]}}}return d[0]},moveRel:function(a,b){"string"!=typeof b&&(b=this.testMoveRel(a,b));var c=dA(this,a,b);return this.moveTo(c.x,c.y)},moveBy:function(a,b){var c=this.layoutRect();return this.moveTo(c.x+a,c.y+b),this},moveTo:function(b,f){var h=this;function a(i,j,k){return i<0?0:j<i+k&&(i=j-k)<0?0:i}if(h.settings.constrainToViewport){var d=dK(this),g=h.layoutRect();b=a(b,d.w,g.w),f=a(f,d.h,g.h)}var c=dm.getUiContainer(h);return c&&eg(c)&&!dU(h)&&(b-=c.scrollLeft,f-=c.scrollTop),c&&(b+=1,f+=1),h.state.get("rendered")?h.layoutRect({x:b,y:f}).repaint():(h.settings.x=b,h.settings.y=f),h.fire("move",{x:b,y:f}),h}},aJ=eR.extend({Mixins:[bY],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var a=this,b=a.classPrefix;return'<div id="'+a._id+'" class="'+a.classes+'" role="presentation"><div class="'+b+'tooltip-arrow"></div><div class="'+b+'tooltip-inner">'+a.encode(a.state.get("text"))+"</div></div>"},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl().lastChild.innerHTML=a.encode(b.value)}),a._super()},repaint:function(){var a,b;a=this.getEl().style,b=this._layoutRect,a.left=b.x+"px",a.top=b.y+"px",a.zIndex=131070}}),fw=eR.extend({init:function(a){var b=this;b._super(a),a=b.settings,b.canFocus=!0,a.tooltip&&!1!==fw.tooltips&&(b.on("mouseenter",function(c){var d=b.tooltip().moveTo(-65535);if(c.control===b){var f=d.text(a.tooltip).show().testMoveRel(b.getEl(),["bc-tc","bc-tl","bc-tr"]);d.classes.toggle("tooltip-n","bc-tc"===f),d.classes.toggle("tooltip-nw","bc-tl"===f),d.classes.toggle("tooltip-ne","bc-tr"===f),d.moveRel(b.getEl(),f)}else{d.hide()}}),b.on("mouseleave mousedown click",function(){b.tooltip().remove(),b._tooltip=null})),b.aria("label",a.ariaLabel||a.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new aJ({type:"tooltip"}),dm.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var a=this,b=a.settings;a._super(),a.parent()||!b.width&&!b.height||(a.initLayoutRect(),a.repaint()),b.autofocus&&a.focus()},bindStates:function(){var b=this;function c(d){b.aria("disabled",d),b.classes.toggle("disabled",d)}function a(d){b.aria("pressed",d),b.classes.toggle("active",d)}return b.state.on("change:disabled",function(d){c(d.value)}),b.state.on("change:active",function(d){a(d.value)}),b.state.get("disabled")&&c(!0),b.state.get("active")&&a(!0),b._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),f0=fw.extend({Defaults:{value:0},init:function(a){this._super(a),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(b){return Math.round(b)})},renderHtml:function(){var a=this._id,b=this.classPrefix;return'<div id="'+a+'" class="'+this.classes+'"><div class="'+b+'bar-container"><div class="'+b+'bar"></div></div><div class="'+b+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var a=this;function b(c){c=a.settings.filter(c),a.getEl().lastChild.innerHTML=c+"%",a.getEl().firstChild.firstChild.style.width=c+"%"}return a.state.on("change:value",function(c){b(c.value)}),b(a.state.get("value")),a._super()}}),ah=function(a,b){a.getEl().lastChild.textContent=b+(a.progressBar?" "+a.progressBar.value()+"%":"")},az=eR.extend({Mixins:[bY],Defaults:{classes:"widget notification"},init:function(a){var b=this;b._super(a),b.maxWidth=a.maxWidth,a.text&&b.text(a.text),a.icon&&(b.icon=a.icon),a.color&&(b.color=a.color),a.type&&b.classes.add("notification-"+a.type),a.timeout&&(a.timeout<0||0<a.timeout)&&!a.closeButton?b.closeButton=!1:(b.classes.add("has-close"),b.closeButton=!0),a.progressBar&&(b.progressBar=new f0),b.on("click",function(c){-1!==c.target.className.indexOf(b.classPrefix+"close")&&b.close()})},renderHtml:function(){var b,d=this,g=d.classPrefix,a="",c="",f="";return d.icon&&(a='<i class="'+g+"ico "+g+"i-"+d.icon+'"></i>'),b=' style="max-width: '+d.maxWidth+"px;"+(d.color?"background-color: "+d.color+';"':'"'),d.closeButton&&(c='<button type="button" class="'+g+'close" aria-hidden="true">\xd7</button>'),d.progressBar&&(f=d.progressBar.renderHtml()),'<div id="'+d._id+'" class="'+d.classes+'"'+b+' role="presentation">'+a+'<div class="'+g+'notification-inner">'+d.state.get("text")+"</div>"+f+c+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var a=this;return eU.setTimeout(function(){a.$el.addClass(a.classPrefix+"in"),ah(a,a.state.get("text"))},100),a._super()},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl().firstChild.innerHTML=b.value,ah(a,b.value)}),a.progressBar&&(a.progressBar.bindStates(),a.progressBar.state.on("change:value",function(b){ah(a,a.state.get("text"))})),a._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var a,b;a=this.getEl().style,b=this._layoutRect,a.left=b.x+"px",a.top=b.y+"px",a.zIndex=65534}});function ap(b){var a=function(c){return c.inline?c.getElement():c.getContentAreaContainer()};return{open:function(d,g){var h,c=fA.extend(d,{maxWidth:(h=a(b),cM.getSize(h).width)}),f=new az(c);return 0<(f.args=c).timeout&&(f.timer=setTimeout(function(){f.close(),g()},c.timeout)),f.on("close",function(){g()}),f.renderTo(),f},close:function(c){c.close()},reposition:function(c){aV(c,function(d){d.moveTo(0,0)}),function(g){if(0<g.length){var d=g.slice(0,1)[0],f=a(b);d.moveRel(f,"tc-tc"),aV(g,function(h,i){0<i&&h.moveRel(g[i-1].getEl(),"bc-tc")})}}(c)},getArgs:function(c){return c.args}}}function aZ(a){var b,c;if(a.changedTouches){for(b="screenX screenY pageX pageY clientX clientY".split(" "),c=0;c<b.length;c++){a[b[c]]=a.changedTouches[0][b[c]]}}}function c2(q,d){var c,f,i,a,o,k,j,l=d.document||document;d=d||{};var n=l.getElementById(d.handle||q);i=function(B){var w,h,p,b,g,C,z,m,A,y,x,v=(w=l,A=Math.max,h=w.documentElement,p=w.body,b=A(h.scrollWidth,p.scrollWidth),g=A(h.clientWidth,p.clientWidth),C=A(h.offsetWidth,p.offsetWidth),z=A(h.scrollHeight,p.scrollHeight),m=A(h.clientHeight,p.clientHeight),{width:b<C?g:b,height:z<A(h.offsetHeight,p.offsetHeight)?m:z});aZ(B),B.preventDefault(),f=B.button,y=n,k=B.screenX,j=B.screenY,x=window.getComputedStyle?window.getComputedStyle(y,null).getPropertyValue("cursor"):y.runtimeStyle.cursor,c=dG("<div></div>").css({position:"absolute",top:0,left:0,width:v.width,height:v.height,zIndex:2147483647,opacity:0.0001,cursor:x}).appendTo(l.body),dG(l).on("mousemove touchmove",o).on("mouseup touchend",a),d.start(B)},o=function(b){if(aZ(b),b.button!==f){return a(b)}b.deltaX=b.screenX-k,b.deltaY=b.screenY-j,b.preventDefault(),d.drag(b)},a=function(b){aZ(b),dG(l).off("mousemove touchmove",o).off("mouseup touchend",a),c.remove(),d.stop&&d.stop(b)},this.destroy=function(){dG(n).off()},dG(n).on("mousedown touchstart",i)}var aE=tinymce.util.Tools.resolve("tinymce.ui.Factory"),c0=function(a){return !!a.getAttribute("data-mce-tabstop")};function cH(w){var B,z,C=w.root;function F(a){return a&&1===a.nodeType}try{B=document.activeElement}catch(J){B=document.body}function x(a){return F(a=a||B)?a.getAttribute("role"):null}function N(a){for(var b,c=a||B;c=c.parentNode;){if(b=x(c)){return b}}}function E(a){var b=B;if(F(b)){return b.getAttribute("aria-"+a)}}function q(a){var b=a.tagName.toUpperCase();return"INPUT"===b||"TEXTAREA"===b||"SELECT"===b}function L(c){var b=[];return function a(f){if(1===f.nodeType&&"none"!==f.style.display&&!f.disabled){var g;(q(g=f)&&!g.hidden||c0(g)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(x(g)))&&b.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}(c||C.getEl()),b}function K(b){var c,d;(d=(b=b||z).parents().toArray()).unshift(b);for(var a=0;a<d.length&&!(c=d[a]).settings.ariaRoot;a++){}return c}function I(a,b){return a<0?a=b.length-1:a>=b.length&&(a=0),b[a]&&b[a].focus(),a}function G(b,d){var f=-1,a=K();d=d||L(a.getEl());for(var c=0;c<d.length;c++){d[c]===B&&(f=c)}f+=b,a.lastAriaIndex=I(f,d)}function D(){"tablist"===N()?G(-1,L(B.parentNode)):z.parent().submenu?M():G(-1)}function H(){var a=x(),b=N();"tablist"===b?G(1,L(B.parentNode)):"menuitem"===a&&"menu"===b&&E("haspopup")?j():G(1)}function A(){G(-1)}function k(){var a=x(),b=N();"menuitem"===a&&"menubar"===b?j():"button"===a&&E("haspopup")?j({key:"down"}):G(1)}function M(){z.fire("cancel")}function j(a){a=a||{},z.fire("click",{target:B,aria:a})}return z=C.getParentCtrl(B),C.on("keydown",function(a){function b(c,d){q(B)||c0(B)||"slider"!==x(B)&&!1!==d(c)&&c.preventDefault()}if(!a.isDefaultPrevented()){switch(a.keyCode){case 37:b(a,D);break;case 39:b(a,H);break;case 38:b(a,A);break;case 40:b(a,k);break;case 27:M();break;case 14:case 13:case 32:b(a,j);break;case 9:!function(c){if("tablist"===N()){var d=L(z.getEl("body"))[0];d&&d.focus()}else{G(c.shiftKey?-1:1)}}(a),a.preventDefault()}}}),C.on("focusin",function(a){B=a.target,z=a.control}),{focusFirst:function(a){var b=K(a),c=L(b.getEl());b.settings.ariaRemember&&"lastAriaIndex" in b?I(b.lastAriaIndex,c):I(0,c)}}}var fV,dW,cS,dM,dC={},aO=eR.extend({init:function(a){var b=this;b._super(a),(a=b.settings).fixed&&b.state.set("fixed",!0),b._items=new bK,b.isRtl()&&b.classes.add("rtl"),b.bodyClasses=new a6(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())}),b.bodyClasses.prefix=b.classPrefix,b.classes.add("container"),b.bodyClasses.add("container-body"),a.containerCls&&b.classes.add(a.containerCls),b._layout=aE.create((a.layout||"")+"layout"),b.settings.items?b.add(b.settings.items):b.add(b.render()),b._hasBody=!0},items:function(){return this._items},find:function(a){return(a=dC[a]=dC[a]||new bH(a)).find(this)},add:function(a){return this.items().add(this.create(a)).parent(this),this},focus:function(b){var d,f,a,c=this;if(!b||!(f=c.keyboardNav||c.parents().eq(-1)[0].keyboardNav)){return a=c.find("*"),c.statusbar&&a.add(c.statusbar.items()),a.each(function(e){if(e.settings.autofocus){return d=null,!1}e.canFocus&&(d=d||e)}),d&&d.focus(),c}f.focusFirst(c)},replace:function(b,d){for(var f,a=this.items(),c=a.length;c--;){if(a[c]===b){a[c]=d;break}}0<=c&&((f=d.getEl())&&f.parentNode.removeChild(f),(f=b.getEl())&&f.parentNode.removeChild(f)),d.parent(this)},create:function(b){var c,d=this,a=[];return fA.isArray(b)||(b=[b]),fA.each(b,function(e){e&&(e instanceof eR||("string"==typeof e&&(e={type:e}),c=fA.extend({},d.settings.defaults,e),e.type=c.type=c.type||e.type||d.settings.defaultType||(c.defaults?c.defaults.type:null),e=aE.create(c)),a.push(e))}),a},renderNew:function(){var a=this;return a.items().each(function(b,c){var d;b.parent(a),b.state.get("rendered")||((d=a.getEl("body")).hasChildNodes()&&c<=d.childNodes.length-1?dG(d.childNodes[c]).before(b.renderHtml()):dG(d).append(b.renderHtml()),b.postRender(),d5.add(b))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(a){return this.items().set(this.create(a).concat(this.items().toArray())),this.renderNew()},insert:function(b,d,g){var a,c,f;return b=this.create(b),a=this.items(),!g&&d<a.length-1&&(d+=1),0<=d&&d<a.length&&(c=a.slice(0,d).toArray(),f=a.slice(d).toArray(),a.set(c.concat(b,f))),this.renderNew()},fromJSON:function(a){for(var b in a){this.find("#"+b).value(a[b])}return this},toJSON:function(){var a={};return this.find("*").each(function(b){var c=b.name(),d=b.value();c&&void 0!==d&&(a[c]=d)}),a},renderHtml:function(){var a=this,b=a._layout,c=this.settings.role;return a.preRender(),b.preRender(a),'<div id="'+a._id+'" class="'+a.classes+'"'+(c?' role="'+this.settings.role+'"':"")+'><div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+(a.settings.html||"")+b.renderHtml(a)+"</div></div>"},postRender:function(){var a,b=this;return b.items().exec("postRender"),b._super(),b._layout.postRender(b),b.state.set("rendered",!0),b.settings.style&&b.$el.css(b.settings.style),b.settings.border&&(a=b.borderBox,b.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),b.parent()||(b.keyboardNav=cH({root:b})),b},initLayoutRect:function(){var a=this._super();return this._layout.recalc(this),a},recalc:function(){var a=this,b=a._layoutRect,c=a._lastRect;if(!c||c.w!==b.w||c.h!==b.h){return a._layout.recalc(a),b=a.layoutRect(),a._lastRect={x:b.x,y:b.y,w:b.w,h:b.h},!0}},reflow:function(){var a;if(d5.remove(this),this.visible()){for(eR.repaintControls=[],eR.repaintControls.map={},this.recalc(),a=eR.repaintControls.length;a--;){eR.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),eR.repaintControls=[]}return this}}),dq={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var b=this,a=2;function c(){var d,h,f;function i(B,w,k,p,g,j){var C,z,m,A,y,x,v,q;if(z=b.getEl("scroll"+B)){if(v=w.toLowerCase(),q=k.toLowerCase(),dG(b.getEl("absend")).css(v,b.layoutRect()[p]-1),!g){return void dG(z).css("display","none")}dG(z).css("display","block"),C=b.getEl("body"),m=b.getEl("scroll"+B+"t"),A=C["client"+k]-2*a,y=(A-=d&&h?z["client"+j]:0)/C["scroll"+k],(x={})[v]=C["offset"+w]+a,x[q]=A,dG(z).css(x),(x={})[v]=C["scroll"+w]*y,x[q]=A*y,dG(m).css(x)}}f=b.getEl("body"),d=f.scrollWidth>f.clientWidth,h=f.scrollHeight>f.clientHeight,i("h","Left","Width","contentW",d,"Height"),i("v","Top","Height","contentH",h,"Width")}b.settings.autoScroll&&(b._hasScroll||(b._hasScroll=!0,function(){function d(j,g,f,h,n){var m,i=b._id+"-scroll"+j,k=b.classPrefix;dG(b.getEl()).append('<div id="'+i+'" class="'+k+"scrollbar "+k+"scrollbar-"+j+'"><div id="'+i+'t" class="'+k+'scrollbar-thumb"></div></div>'),b.draghelper=new c2(i+"t",{start:function(){m=b.getEl("body")["scroll"+g],dG("#"+i).addClass(k+"active")},drag:function(p){var s,v,l,q,u=b.layoutRect();v=u.contentW>u.innerW,l=u.contentH>u.innerH,q=b.getEl("body")["client"+f]-2*a,s=(q-=v&&l?b.getEl("scroll"+j)["client"+n]:0)/b.getEl("body")["scroll"+f],b.getEl("body")["scroll"+g]=m+p["delta"+h]/s},stop:function(){dG("#"+i).removeClass(k+"active")}})}b.classes.add("scroll"),d("v","Top","Height","Y","Width"),d("h","Left","Width","X","Height")}(),b.on("wheel",function(d){var f=b.getEl("body");f.scrollLeft+=10*(d.deltaX||0),f.scrollTop+=10*d.deltaY,c()}),dG(b.getEl("body")).on("scroll",c)),c())}},b0=aO.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[dq],renderHtml:function(){var a=this,b=a._layout,c=a.settings.html;return a.preRender(),b.preRender(a),void 0===c?c='<div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+b.renderHtml(a)+"</div>":("function"==typeof c&&(c=c.call(a)),a._hasBody=!1),'<div id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1" role="group">'+(a._preBodyHtml||"")+c+"</div>"}}),bv={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(a,b){if(a<=1||b<=1){var c=cM.getWindowSize();a=a<=1?a*c.w:a,b=b<=1?b*c.h:b}return this._layoutRect.autoResize=!1,this.layoutRect({minW:a,minH:b,w:a,h:b}).reflow()},resizeBy:function(a,b){var c=this.layoutRect();return this.resizeTo(c.w+a,c.h+b)}},ba=[],d7=[];function fE(a,b){for(;a;){if(a===b){return !0}a=a.parent()}}function fN(){fV||(fV=function(a){2!==a.button&&function(c){for(var d=ba.length;d--;){var f=ba[d],b=f.getParentCtrl(c.target);if(f.settings.autohide){if(b&&(fE(b,f)||f.parent()===b)){continue}(c=f.fire("autohide",{target:c.target})).isDefaultPrevented()||f.hide()}}}(a)},dG(document).on("click touchstart",fV))}function au(b){var a=cM.getViewPort().y;function c(f,g){for(var h,d=0;d<ba.length;d++){if(ba[d]!==b){for(h=ba[d].parent();h&&(h=h.parent());){h===b&&ba[d].fixed(f).moveBy(0,g).repaint()}}}}b.settings.autofix&&(b.state.get("fixed")?b._autoFixY>a&&(b.fixed(!1).layoutRect({y:b._autoFixY}).repaint(),c(!1,b._autoFixY-a)):(b._autoFixY=b.layoutRect().y,b._autoFixY<a&&(b.fixed(!0).layoutRect({y:0}).repaint(),c(!0,a-b._autoFixY))))}function cx(b,d){var g,a,c=cb.zIndex||65535;if(b){d7.push(d)}else{for(g=d7.length;g--;){d7[g]===d&&d7.splice(g,1)}}if(d7.length){for(g=0;g<d7.length;g++){d7[g].modal&&(c++,a=d7[g]),d7[g].getEl().style.zIndex=c,d7[g].zIndex=c,c++}}var f=dG("#"+d.classPrefix+"modal-block",d.getContainerElm())[0];a?dG(f).css("z-index",a.zIndex-1):f&&(f.parentNode.removeChild(f),dM=!1),cb.currentZIndex=c}var cb=b0.extend({Mixins:[bY,bv],init:function(b){var a=this;a._super(b),(a._eventsRoot=a).classes.add("floatpanel"),b.autohide&&(fN(),function(){if(!cS){var c=document.documentElement,d=c.clientWidth,f=c.clientHeight;cS=function(){document.all&&d===c.clientWidth&&f===c.clientHeight||(d=c.clientWidth,f=c.clientHeight,cb.hideAll())},dG(window).on("resize",cS)}}(),ba.push(a)),b.autofix&&(dW||(dW=function(){var c;for(c=ba.length;c--;){au(ba[c])}},dG(window).on("scroll",dW)),a.on("move",function(){au(this)})),a.on("postrender show",function(c){if(c.control===a){var d,f=a.classPrefix;a.modal&&!dM&&((d=dG("#"+f+"modal-block",a.getContainerElm()))[0]||(d=dG('<div id="'+f+'modal-block" class="'+f+"reset "+f+'fade"></div>').appendTo(a.getContainerElm())),eU.setTimeout(function(){d.addClass(f+"in"),dG(a.getEl()).addClass(f+"in")}),dM=!0),cx(!0,a)}}),a.on("show",function(){a.parents().each(function(c){if(c.state.get("fixed")){return a.fixed(!0),!1}})}),b.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.classes.add("popover").add("bottom").add(a.isRtl()?"end":"start")),a.aria("label",b.ariaLabel),a.aria("labelledby",a._id),a.aria("describedby",a.describedBy||a._id+"-none")},fixed:function(a){var b=this;if(b.state.get("fixed")!==a){if(b.state.get("rendered")){var c=cM.getViewPort();a?b.layoutRect().y-=c.y:b.layoutRect().y+=c.y}b.classes.toggle("fixed",a),b.state.set("fixed",a)}return b},show:function(){var a,b=this._super();for(a=ba.length;a--&&ba[a]!==this;){}return -1===a&&ba.push(this),b},hide:function(){return bO(this),cx(!1,this),this._super()},hideAll:function(){cb.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),cx(!1,this)),this},remove:function(){bO(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function bO(a){var b;for(b=ba.length;b--;){ba[b]===a&&ba.splice(b,1)}for(b=d7.length;b--;){d7[b]===a&&d7.splice(b,1)}}cb.hideAll=function(){for(var a=ba.length;a--;){var b=ba[a];b&&b.settings.autohide&&(b.hide(),ba.splice(a,1))}};var bG=[],cm="";function bQ(a){var b,c=dG("meta[name=viewport]")[0];!1!==eN.overrideViewPort&&(c||((c=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(c)),(b=c.getAttribute("content"))&&void 0!==cm&&(cm=b),c.setAttribute("content",a?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":cm))}function da(a,b){(function(){for(var c=0;c<bG.length;c++){if(bG[c]._fullscreen){return !0}}return !1})()&&!1===b&&dG([document.documentElement,document.body]).removeClass(a+"fullscreen")}var eZ=cb.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a),b.isRtl()&&b.classes.add("rtl"),b.classes.add("window"),b.bodyClasses.add("window-body"),b.state.set("fixed",!0),a.buttons&&(b.statusbar=new b0({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b)),b.on("click",function(c){var d=b.classPrefix+"close";(cM.hasClass(c.target,d)||cM.hasClass(c.target.parentNode,d))&&b.close()}),b.on("cancel",function(){b.close()}),b.on("move",function(c){c.control===b&&cb.hideAll()}),b.aria("describedby",b.describedBy||b._id+"-none"),b.aria("label",a.title),b._fullscreen=!1},recalc:function(){var b,d,g,a,c=this,f=c.statusbar;c._fullscreen&&(c.layoutRect(cM.getWindowSize()),c.layoutRect().contentH=c.layoutRect().innerH),c._super(),b=c.layoutRect(),c.settings.title&&!c._fullscreen&&(d=b.headerW)>b.w&&(g=b.x-Math.max(0,d/2),c.layoutRect({w:d,x:g}),a=!0),f&&(f.layoutRect({w:c.layoutRect().innerW}).recalc(),(d=f.layoutRect().minW+b.deltaW)>b.w&&(g=b.x-Math.max(0,d-b.w),c.layoutRect({w:d,x:g}),a=!0)),a&&c.recalc()},initLayoutRect:function(){var b,d=this,g=d._super(),a=0;if(d.settings.title&&!d._fullscreen){b=d.getEl("head");var c=cM.getSize(b);g.headerW=c.width,g.headerH=c.height,a+=g.headerH}d.statusbar&&(a+=d.statusbar.layoutRect().h),g.deltaH+=a,g.minH+=a,g.h+=a;var f=cM.getWindowSize();return g.x=d.settings.x||Math.max(0,f.w/2-g.w/2),g.y=d.settings.y||Math.max(0,f.h/2-g.h/2),g},renderHtml:function(){var d=this,h=d._layout,k=d._id,c=d.classPrefix,g=d.settings,j="",f="",b=g.html;return d.preRender(),h.preRender(d),g.title&&(j='<div id="'+k+'-head" class="'+c+'window-head"><div id="'+k+'-title" class="'+c+'title">'+d.encode(g.title)+'</div><div id="'+k+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),g.url&&(b='<iframe src="'+g.url+'" tabindex="-1"></iframe>'),void 0===b&&(b=h.renderHtml(d)),d.statusbar&&(f=d.statusbar.renderHtml()),'<div id="'+k+'" class="'+d.classes+'" hidefocus="1"><div class="'+d.classPrefix+'reset" role="application">'+j+'<div id="'+k+'-body" class="'+d.bodyClasses+'">'+b+"</div>"+f+"</div></div>"},fullscreen:function(b){var h,f,a=this,d=document.documentElement,g=a.classPrefix;if(b!==a._fullscreen){if(dG(window).on("resize",function(){var i;if(a._fullscreen){if(h){a._timer||(a._timer=eU.setTimeout(function(){var e=cM.getWindowSize();a.moveTo(0,0).resizeTo(e.w,e.h),a._timer=0},50))}else{i=(new Date).getTime();var j=cM.getWindowSize();a.moveTo(0,0).resizeTo(j.w,j.h),50<(new Date).getTime()-i&&(h=!0)}}}),f=a.layoutRect(),a._fullscreen=b){a._initial={x:f.x,y:f.y,w:f.w,h:f.h},a.borderBox=dh("0"),a.getEl("head").style.display="none",f.deltaH-=f.headerH+2,dG([d,document.body]).addClass(g+"fullscreen"),a.classes.add("fullscreen");var c=cM.getWindowSize();a.moveTo(0,0).resizeTo(c.w,c.h)}else{a.borderBox=dh(a.settings.border),a.getEl("head").style.display="",f.deltaH+=f.headerH,dG([d,document.body]).removeClass(g+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h)}}return a.reflow()},postRender:function(){var a,b=this;setTimeout(function(){b.classes.add("in"),b.fire("open")},0),b._super(),b.statusbar&&b.statusbar.postRender(),b.focus(),this.dragHelper=new c2(b._id+"-dragh",{start:function(){a={x:b.layoutRect().x,y:b.layoutRect().y}},drag:function(c){b.moveTo(a.x+c.deltaX,a.y+c.deltaY)}}),b.on("submit",function(c){c.isDefaultPrevented()||b.close()}),bG.push(b),bQ(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a,b=this;for(b.dragHelper.destroy(),b._super(),b.statusbar&&this.statusbar.remove(),da(b.classPrefix,!1),a=bG.length;a--;){bG[a]===b&&bG.splice(a,1)}bQ(0<bG.length)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});!function(){if(!eN.desktop){var a={w:window.innerWidth,h:window.innerHeight};eU.setInterval(function(){var b=window.innerWidth,c=window.innerHeight;a.w===b&&a.h===c||(a={w:b,h:c},dG(window).trigger("resize"))},100)}dG(window).on("resize",function(){var b,c,d=cM.getWindowSize();for(b=0;b<bG.length;b++){c=bG[b].layoutRect(),bG[b].moveTo(bG[b].settings.x||Math.max(0,d.w/2-c.w/2),bG[b].settings.y||Math.max(0,d.h/2-c.h/2))}})}();var f5=eZ.extend({init:function(a){a={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(a)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(b){var c,a=b.callback||function(){};function d(f,g,h){return{type:"button",text:f,subtype:h?"primary":"",onClick:function(e){e.control.parents()[1].close(),a(g)}}}switch(b.buttons){case f5.OK_CANCEL:c=[d("Ok",!0,!0),d("Cancel",!1)];break;case f5.YES_NO:case f5.YES_NO_CANCEL:c=[d("Yes",1,!0),d("No",0)],b.buttons===f5.YES_NO_CANCEL&&c.push(d("Cancel",-1));break;default:c=[d("Ok",!0,!0)]}return new eZ({padding:20,x:b.x,y:b.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:b.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:b.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:b.onClose,onCancel:function(){a(!1)}}).renderTo(document.body).reflow()},alert:function(a,b){return"string"==typeof a&&(a={text:a}),a.callback=b,f5.msgBox(a)},confirm:function(a,b){return"string"==typeof a&&(a={text:a}),a.callback=b,a.buttons=f5.OK_CANCEL,f5.msgBox(a)}}}),ej=function(a,b){return{renderUI:function(){return bb(a,b)},getNotificationManagerImpl:function(){return ap(a)},getWindowManagerImpl:function(){return{open:function(g,d,f){var c;return g.title=g.title||" ",g.url=g.url||g.file,g.url&&(g.width=parseInt(g.width||320,10),g.height=parseInt(g.height||240,10)),g.body&&(g.items={defaults:g.defaults,type:g.bodyType||"form",items:g.body,data:g.data,callbacks:g.commands}),g.url||g.buttons||(g.buttons=[{text:"Ok",subtype:"primary",onclick:function(){c.find("form")[0].submit()}},{text:"Cancel",onclick:function(){c.close()}}]),(c=new eZ(g)).on("close",function(){f(c)}),g.data&&c.on("postRender",function(){this.find("*").each(function(h){var i=h.name();i in g.data&&h.value(g.data[i])})}),c.features=g||{},c.params=d||{},c=c.renderTo(document.body).reflow()},alert:function(d,f,g){var c;return(c=f5.alert(d,function(){f()})).on("close",function(){g(c)}),c},confirm:function(d,f,g){var c;return(c=f5.confirm(d,function(e){f(e)})).on("close",function(){g(c)}),c},close:function(c){c.close()},getParams:function(c){return c.params},setParams:function(c,d){c.params=d}}}}},bs="undefined"!=typeof window?window:Function("return this;")(),dc=function(a,b){return function(d,f){for(var g=f!==undefined&&null!==f?f:bs,c=0;c<d.length&&g!==undefined&&null!==g;++c){g=g[d[c]]}return g}(a.split("."),b)},a3=function(a,b){var c=dc(a,b);if(c===undefined||null===c){throw a+" not available on this browser"}return c};function d0(){return new (a3("FileReader"))}var cl=tinymce.util.Tools.resolve("tinymce.util.Promise"),bz=function(a){return new cl(function(b){var c=new d0;c.onloadend=function(){b(c.result.split(",")[1])},c.readAsDataURL(a)})},b4=function(){return new cl(function(b){var a;(a=document.createElement("input")).type="file",a.style.position="fixed",a.style.left=0,a.style.top=0,a.style.opacity=0.001,document.body.appendChild(a),a.onchange=function(c){b(Array.prototype.slice.call(c.target.files))},a.click(),a.parentNode.removeChild(a)})},bf=0,fM=function(a){return a+bf+++(b=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+Date.now().toString(36)+b()+b()+b());var b},cL=function(c,d){var b={};function a(g){var h,j,f;j=d[g?"startContainer":"endContainer"],f=d[g?"startOffset":"endOffset"],1===j.nodeType&&(h=c.create("span",{"data-mce-type":"bookmark"}),j.hasChildNodes()?(f=Math.min(f,j.childNodes.length-1),g?j.insertBefore(h,j.childNodes[f]):c.insertAfter(h,j.childNodes[f])):j.appendChild(h),j=h,f=0),b[g?"startContainer":"endContainer"]=j,b[g?"startOffset":"endOffset"]=f}return a(!0),d.collapsed||a(),b},aS=function(b,d){function a(g){var h,j,f;h=f=d[g?"startContainer":"endContainer"],j=d[g?"startOffset":"endOffset"],h&&(1===h.nodeType&&(j=function(i){for(var k=i.parentNode.firstChild,l=0;k;){if(k===i){return l}1===k.nodeType&&"bookmark"===k.getAttribute("data-mce-type")||l++,k=k.nextSibling}return -1}(h),h=h.parentNode,b.remove(f)),d[g?"startContainer":"endContainer"]=h,d[g?"startOffset":"endOffset"]=j)}a(!0),a();var c=b.createRng();return c.setStart(d.startContainer,d.startOffset),d.endContainer&&c.setEnd(d.endContainer,d.endOffset),c},eD=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ea=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),dP=function(a){return"A"===a.nodeName&&a.hasAttribute("href")},dv=function(k){var h,d,g,b,c,m,j,f;return b=k.selection,c=k.dom,m=b.getRng(),j=c,f=ea.getNode(m.startContainer,m.startOffset),h=j.getParent(f,dP)||f,d=ea.getNode(m.endContainer,m.endOffset),g=k.getBody(),fA.grep(function(l,q,u){var a,p,s=[];for(a=new eD(q,l),p=q;p&&(1===p.nodeType&&s.push(p),p!==u);p=a.next()){}return s}(g,h,d),dP)},cA=function(b){var d,g,a,c,f;g=dv(d=b),c=d.dom,f=d.selection,a=cL(c,f.getRng()),fA.each(g,function(e){d.dom.remove(e,!0)}),f.setRng(aS(c,a))},dF=function(a){a.selection.collapse(!1)},bT=function(a){a.focus(),cA(a),dF(a)},aH=function(d,h){var k,c,g,j,f,b=d.dom.getParent(d.selection.getStart(),"a[href]");b?(j=b,f=h,(g=d).focus(),g.dom.setAttrib(j,"href",f),dF(g)):(c=h,(k=d).execCommand("mceInsertLink",!1,{href:c}),dF(k))},fd=function(b,d,g){var a,c,f;b.plugins.table?b.plugins.table.insertTable(d,g):(c=d,f=g,(a=b).undoManager.transact(function(){var h,i;a.insertContent(function(k,m){var o,j,l;for(l='<table data-mce-id="mce" style="width: 100%">',l+="<tbody>",j=0;j<m;j++){for(l+="<tr>",o=0;o<k;o++){l+="<td><br></td>"}l+="</tr>"}return l+="</tbody>",l+="</table>"}(c,f)),(h=a.dom.select("*[data-mce-id]")[0]).removeAttribute("data-mce-id"),i=a.dom.select("td,th",h),a.selection.setCursorLocation(i[0],0)}))},fY=function(a,b){a.execCommand("FormatBlock",!1,b)},ab=function(b,d,f){var a,c;c=(a=b.editorUpload.blobCache).create(fM("mceu"),f,d),a.add(c),b.insertContent(b.dom.createHTML("img",{src:c.blobUri()}))},ax=function(a,b){0===b.trim().length?bT(a):aH(a,b)},ag=bT,aX=function(b,a){b.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){a.showForm(b,"quicklink")}}),b.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){b4().then(function(c){var d=c[0];bz(d).then(function(e){ab(b,e,d)})})}}),b.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){a.hide(),fd(b,2,2)}}),function(f){for(var d=function(e){return function(){fY(f,e)}},g=1;g<6;g++){var c="h"+g;f.addButton(c,{text:c.toUpperCase(),tooltip:"Heading "+g,stateSelector:c,onclick:d(c),onPostRender:function(){this.getEl().firstChild.firstChild.style.fontWeight="bold"}})}}(b)},cZ=function(){var b=eN.container;if(b&&"static"!==eq.DOM.getStyle(b,"position",!0)){var c=eq.DOM.getPos(b),d=c.x-b.scrollLeft,a=c.y-b.scrollTop;return bR.some({x:d,y:a})}return bR.none()},aC=function(a){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(a.trim())},cV=function(a){return/^https?:\/\//.test(a.trim())},cE=function(b,c){return !cV(c)&&aC(c)?(d=b,a=c,new cl(function(f){d.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){f(!0===e?"http://"+a:a)})})):cl.resolve(c);var d,a},fR=function(c,d){var b,g,a,f={};return b="quicklink",g={items:[{type:"button",name:"unlink",icon:"unlink",onclick:function(){c.focus(),ag(c),d()},tooltip:"Remove link"},{type:"filepicker",name:"linkurl",placeholder:"Paste or type a link",filetype:"file",onchange:function(h){var i=h.meta;i&&i.attach&&(f={href:this.value(),attach:i.attach})}},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(j){if(j.control===this){var k,l="";(k=c.dom.getParent(c.selection.getStart(),"a[href]"))&&(l=c.dom.getAttrib(k,"href")),this.fromJSON({linkurl:l}),h=this.find("#unlink"),k?h.show():h.hide(),this.find("#linkurl")[0].focus()}var h},onsubmit:function(e){cE(c,e.data.linkurl).then(function(h){c.undoManager.transact(function(){h===f.href&&(f.attach(),f={}),ax(c,h)}),d()})}},(a=aE.create(fA.extend({type:"form",layout:"flex",direction:"row",padding:5,name:b,spacing:3},g))).on("show",function(){a.find("textbox").eq(0).each(function(e){e.focus()})}),a},dT=function(g,b,d){var f,a,c=[];if(d){return fA.each(fC(a=d)?a:fz(a)?a.split(/[ ,]/):[],function(j){if("|"===j){f=null}else{if(g.buttons[j]){f||(f={type:"buttongroup",items:[]},c.push(f));var l=g.buttons[j];fD(l)&&(l=l()),l.type=l.type||"button",(l=aE.create(l)).on("postRender",(h=g,k=l,function(){var m,i,o=(i=function(n,p){return{selector:n,handler:p}},(m=k).settings.stateSelector?i(m.settings.stateSelector,function(e){m.active(e)}):m.settings.disabledStateSelector?i(m.settings.disabledStateSelector,function(e){m.disabled(e)}):null);null!==o&&h.selection.selectorChanged(o.selector,o.handler)})),f.items.push(l)}}var h,k}),aE.create({type:"toolbar",layout:"flow",name:b,items:c})}},cP=function(){var i,r,b=function(c){return 0<c.items().length},s=function(d,g){var h,c,f=(h=d,c=g,fA.map(c,function(l){return dT(h,l.id,l.items)})).concat([dT(d,"text",fp(d)),dT(d,"insert",fv(d)),fR(d,a)]);return aE.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:fA.grep(f,b),oncancel:function(){d.focus()}})},q=function(c){c&&c.show()},n=function(c,d){c.moveTo(d.x,d.y)},j=function(d,c){c=c?c.substr(0,2):"",fA.each({t:"down",b:"up",c:"center"},function(f,g){d.classes.toggle("arrow-"+f,g===c.substr(0,1))}),"cr"===c?(d.classes.toggle("arrow-left",!0),d.classes.toggle("arrow-right",!1)):"cl"===c?(d.classes.toggle("arrow-left",!0),d.classes.toggle("arrow-right",!0)):fA.each({l:"left",r:"right"},function(f,g){d.classes.toggle("arrow-"+f,g===c.substr(1,1))})},e=function(c,d){var f=c.items().filter("#"+d);return 0<f.length&&(f[0].show(),c.reflow(),!0)},k=function(w,m,f,h){var c,d,x,p;if(p=fm(f),c=el(f),d=eq.DOM.getRect(w.getEl()),x="insert"===m?e1(h,c,d):fT(h,c,d)){var g=cZ().getOr({x:0,y:0}),v={x:x.rect.x-g.x,y:x.rect.y-g.y,w:x.rect.w,h:x.rect.h};return n(w,e2(p,r=h,c,v)),j(w,x.position),!0}return !1},a=function(){i&&i.hide()};return{show:function(f,l,p,d){var h,m,g,c;i||(fj(f),(i=s(f,d)).renderTo().reflow().moveTo(p.x,p.y),f.nodeChanged()),m=l,g=f,c=p,q(h=i),h.items().hide(),e(h,m)?!1===k(h,m,g,c)&&a():a()},showForm:function(d,g){if(i){if(i.items().hide(),!e(i,g)){return void a()}var l,c,f,h=void 0;q(i),i.items().hide(),e(i,g),f=fm(d),l=el(d),h=eq.DOM.getRect(i.getEl()),(c=fT(r,l,h))&&(h=c.rect,n(i,e2(f,r,l,h)),j(i,c.position))}},reposition:function(c,d,f){i&&k(i,d,c,f)},inForm:function(){return i&&i.visible()&&0<i.items().filter("form:visible").length},hide:a,focus:function(){i&&i.find("toolbar:visible").eq(0).each(function(c){c.focus(!0)})},remove:function(){i&&(i.remove(),i=null)}}},dJ=dw.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(a){this.settings=fA.extend({},this.Defaults,a)},preRender:function(a){a.bodyClasses.add(this.settings.containerClass)},applyClasses:function(b){var d,g,a,c,f=this.settings;d=f.firstControlClass,g=f.lastControlClass,b.each(function(e){e.classes.remove(d).remove(g).add(f.controlClass),e.visible()&&(a||(a=e),c=e)}),a&&a.classes.add(d),c&&c.classes.add(g)},renderHtml:function(a){var b="";return this.applyClasses(a.items()),a.items().each(function(c){b+=c.renderHtml()}),b},recalc:function(){},postRender:function(){},isNative:function(){return !1}}),dz=dJ.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(a){a.items().filter(":visible").each(function(b){var c=b.settings;b.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),b.recalc&&b.recalc()})},renderHtml:function(a){return'<div id="'+a._id+'-absend" class="'+a.classPrefix+'abs-end"></div>'+this._super(a)}}),aM=fw.extend({Defaults:{classes:"widget btn",role:"button"},init:function(a){var b,c=this;c._super(a),a=c.settings,b=c.settings.size,c.on("click mousedown",function(d){d.preventDefault()}),c.on("touchstart",function(d){c.fire("click",d),d.preventDefault()}),a.subtype&&c.classes.add(a.subtype),b&&c.classes.add("btn-"+b),a.icon&&c.icon(a.icon)},icon:function(a){return arguments.length?(this.state.set("icon",a),this):this.state.get("icon")},repaint:function(){var a,b=this.getEl().firstChild;b&&((a=b.style).width=a.height="100%"),this._super()},renderHtml:function(){var k,h,d=this,g=d._id,b=d.classPrefix,c=d.state.get("icon"),m=d.state.get("text"),j="",f=d.settings;return(k=f.image)?(c="none","string"!=typeof k&&(k=window.getSelection?k[0]:k[1]),k=" style=\"background-image: url('"+k+"')\""):k="",m&&(d.classes.add("btn-has-text"),j='<span class="'+b+'txt">'+d.encode(m)+"</span>"),c=c?b+"ico "+b+"i-"+c:"",h="boolean"==typeof f.active?' aria-pressed="'+f.active+'"':"",'<div id="'+g+'" class="'+d.classes+'" tabindex="-1"'+h+'><button id="'+g+'-button" role="presentation" type="button" tabindex="-1">'+(c?'<i class="'+c+'"'+k+"></i>":"")+j+"</button></div>"},bindStates:function(){var c=this,d=c.$,a=c.classPrefix+"txt";function b(f){var g=d("span."+a,c.getEl());f?(g[0]||(d("button:first",c.getEl()).append('<span class="'+a+'"></span>'),g=d("span."+a,c.getEl())),g.html(c.encode(f))):g.remove(),c.classes.toggle("btn-has-text",!!f)}return c.state.on("change:text",function(e){b(e.value)}),c.state.on("change:icon",function(g){var j=g.value,k=c.classPrefix;j=(c.settings.icon=j)?k+"ico "+k+"i-"+c.settings.icon:"";var f=c.getEl().firstChild,h=f.getElementsByTagName("i")[0];j?(h&&h===f.firstChild||(h=document.createElement("i"),f.insertBefore(h,f.firstChild)),h.className=j):h&&f.removeChild(h),b(c.state.get("text"))}),c._super()}}),dl=aM.extend({init:function(a){a=fA.extend({text:"Browse...",multiple:!1,accept:null},a),this._super(a),this.classes.add("browsebutton"),a.multiple&&this.classes.add("multiple")},postRender:function(){var b=this,a=cM.create("input",{type:"file",id:b._id+"-browse",accept:b.settings.accept});b._super(),dG(a).on("change",function(c){var d=c.target.files;b.value=function(){return d.length?b.settings.multiple?d:d[0]:null},c.preventDefault(),d.length&&b.fire("change",c)}),dG(a).on("click",function(c){c.stopPropagation()}),dG(b.getEl("button")).on("click",function(c){c.stopPropagation(),a.click()}),b.getEl().appendChild(a)},remove:function(){dG(this.getEl("button")).off(),dG(this.getEl("input")).off(),this._super()}}),bX=aO.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var a=this,b=a._layout;return a.classes.add("btn-group"),a.preRender(),b.preRender(a),'<div id="'+a._id+'" class="'+a.classes+'"><div id="'+a._id+'-body">'+(a.settings.html||"")+b.renderHtml(a)+"</div></div>"}}),bq=fw.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(a){var b=this;b._super(a),b.on("click mousedown",function(c){c.preventDefault()}),b.on("click",function(c){c.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(a){return arguments.length?(this.state.set("checked",a),this):this.state.get("checked")},value:function(a){return arguments.length?this.checked(a):this.checked()},renderHtml:function(){var a=this,b=a._id,c=a.classPrefix;return'<div id="'+b+'" class="'+a.classes+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+c+"ico "+c+'i-checkbox"></i><span id="'+b+'-al" class="'+c+'label">'+a.encode(a.state.get("text"))+"</span></div>"},bindStates:function(){var b=this;function a(c){b.classes.toggle("checked",c),b.aria("checked",c)}return b.state.on("change:text",function(c){b.getEl("al").firstChild.data=b.translate(c.value)}),b.state.on("change:checked change:value",function(c){b.fire("change"),a(c.value)}),b.state.on("change:icon",function(d){var g=d.value,h=b.classPrefix;if(void 0===g){return b.settings.icon}g=(b.settings.icon=g)?h+"ico "+h+"i-"+b.settings.icon:"";var c=b.getEl().firstChild,f=c.getElementsByTagName("i")[0];g?(f&&f===c.firstChild||(f=document.createElement("i"),c.insertBefore(f,c.firstChild)),f.className=g):f&&c.removeChild(f)}),b.state.get("checked")&&a(!0),b._super()}}),a8=tinymce.util.Tools.resolve("tinymce.util.VK"),d4=fw.extend({init:function(a){var b=this;b._super(a),a=b.settings,b.classes.add("combobox"),b.subinput=!0,b.ariaTarget="inp",a.menu=a.menu||a.values,a.menu&&(a.icon="caret"),b.on("click",function(c){var d=c.target,f=b.getEl();if(dG.contains(f,d)||d===f){for(;d&&d!==f;){d.id&&-1!==d.id.indexOf("-open")&&(b.fire("action"),a.menu&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())),d=d.parentNode}}}),b.on("keydown",function(c){var d;13===c.keyCode&&"INPUT"===c.target.nodeName&&(c.preventDefault(),b.parents().reverse().each(function(e){if(e.toJSON){return d=e,!1}}),b.fire("submit",{data:d.toJSON()}))}),b.on("keyup",function(c){if("INPUT"===c.target.nodeName){var d=b.state.get("value"),f=c.target.value;f!==d&&(b.state.set("value",f),b.fire("autocomplete",c))}}),b.on("mouseover",function(d){var f=b.tooltip().moveTo(-65535);if(b.statusLevel()&&-1!==d.target.className.indexOf(b.classPrefix+"status")){var g=b.statusMessage()||"Ok",c=f.text(g).show().testMoveRel(d.target,["bc-tc","bc-tl","bc-tr"]);f.classes.toggle("tooltip-n","bc-tc"===c),f.classes.toggle("tooltip-nw","bc-tl"===c),f.classes.toggle("tooltip-ne","bc-tr"===c),f.moveRel(d.target,c)}})},statusLevel:function(a){return 0<arguments.length&&this.state.set("statusLevel",a),this.state.get("statusLevel")},statusMessage:function(a){return 0<arguments.length&&this.state.set("statusMessage",a),this.state.get("statusMessage")},showMenu:function(){var a,b=this,c=b.settings;b.menu||((a=c.menu||[]).length?a={type:"menu",items:a}:a.type=a.type||"menu",b.menu=aE.create(a).parent(b).renderTo(b.getContainerElm()),b.fire("createmenu"),b.menu.reflow(),b.menu.on("cancel",function(d){d.control===b.menu&&b.focus()}),b.menu.on("show hide",function(d){d.control.items().each(function(e){e.active(e.value()===b.value())})}).fire("show"),b.menu.on("select",function(d){b.value(d.control.value())}),b.on("focusin",function(d){"INPUT"===d.target.tagName.toUpperCase()&&b.menu.hide()}),b.aria("expanded",!0)),b.menu.show(),b.menu.layoutRect({w:b.layoutRect().w}),b.menu.moveRel(b.getEl(),b.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var k,h,d=this,g=d.getEl(),b=d.getEl("open"),c=d.layoutRect(),m=0,j=g.firstChild;d.statusLevel()&&"none"!==d.statusLevel()&&(m=parseInt(cM.getRuntimeStyle(j,"padding-right"),10)-parseInt(cM.getRuntimeStyle(j,"padding-left"),10)),k=b?c.w-cM.getSize(b).width-10:c.w-10;var f=document;return f.all&&(!f.documentMode||f.documentMode<=8)&&(h=d.layoutRect().h-2+"px"),dG(j).css({width:k-m,lineHeight:h}),d._super(),d},postRender:function(){var a=this;return dG(this.getEl("inp")).on("change",function(b){a.state.set("value",b.target.value),a.fire("change",b)}),a._super()},renderHtml:function(){var m,h,d,g=this,b=g._id,c=g.settings,p=g.classPrefix,j=g.state.get("value")||"",f="",k="";return"spellcheck" in c&&(k+=' spellcheck="'+c.spellcheck+'"'),c.maxLength&&(k+=' maxlength="'+c.maxLength+'"'),c.size&&(k+=' size="'+c.size+'"'),c.subtype&&(k+=' type="'+c.subtype+'"'),d='<i id="'+b+'-status" class="mce-status mce-ico" style="display: none"></i>',g.disabled()&&(k+=' disabled="disabled"'),(m=c.icon)&&"caret"!==m&&(m=p+"ico "+p+"i-"+c.icon),h=g.state.get("text"),(m||h)&&(f='<div id="'+b+'-open" class="'+p+"btn "+p+'open" tabIndex="-1" role="button"><button id="'+b+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==m?'<i class="'+m+'"></i>':'<i class="'+p+'caret"></i>')+(h?(m?" ":"")+h:"")+"</button></div>",g.classes.add("has-open")),'<div id="'+b+'" class="'+g.classes+'"><input id="'+b+'-inp" class="'+p+'textbox" value="'+g.encode(j,!1)+'" hidefocus="1"'+k+' placeholder="'+g.encode(c.placeholder)+'" />'+d+f+"</div>"},value:function(a){return arguments.length?(this.state.set("value",a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(b,a){var c=this;if(0!==b.length){c.menu?c.menu.items().remove():c.menu=aE.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(c).renderTo(),fA.each(b,function(f){var g,h;c.menu.add({text:f.title,url:f.previewUrl,match:a,classes:"menu-item-ellipsis",onclick:(g=f.value,h=f.title,function(){c.fire("selectitem",{title:h,value:g})})})}),c.menu.renderNew(),c.hideMenu(),c.menu.on("cancel",function(e){e.control.parent()===c.menu&&(e.stopPropagation(),c.focus(),c.hideMenu())}),c.menu.on("select",function(){c.focus()});var d=c.layoutRect().w;c.menu.layoutRect({w:d,minW:0,maxW:d}),c.menu.repaint(),c.menu.reflow(),c.menu.show(),c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else{c.hideMenu()}},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var a=this;a.state.on("change:value",function(c){a.getEl("inp").value!==c.value&&(a.getEl("inp").value=c.value)}),a.state.on("change:disabled",function(c){a.getEl("inp").disabled=c.value}),a.state.on("change:statusLevel",function(d){var f=a.getEl("status"),g=a.classPrefix,c=d.value;cM.css(f,"display","none"===c?"none":""),cM.toggleClass(f,g+"i-checkmark","ok"===c),cM.toggleClass(f,g+"i-warning","warn"===c),cM.toggleClass(f,g+"i-error","error"===c),a.classes.toggle("has-status","none"!==c),a.repaint()}),cM.on(a.getEl("status"),"mouseleave",function(){a.tooltip().hide()}),a.on("cancel",function(c){a.menu&&a.menu.visible()&&(c.stopPropagation(),a.hideMenu())});var b=function(c,d){d&&0<d.items().length&&d.items().eq(c)[0].focus()};return a.on("keydown",function(c){var d=c.keyCode;"INPUT"===c.target.nodeName&&(d===a8.DOWN?(c.preventDefault(),a.fire("autocomplete"),b(0,a.menu)):d===a8.UP&&(c.preventDefault(),b(-1,a.menu)))}),a._super()},remove:function(){dG(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),fu=d4.extend({init:function(a){var b=this;a.spellcheck=!1,a.onaction&&(a.icon="none"),b._super(a),b.classes.add("colorbox"),b.on("change keyup postrender",function(){b.repaintColor(b.value())})},repaintColor:function(b){var c=this.getEl("open"),d=c?c.getElementsByTagName("i")[0]:null;if(d){try{d.style.background=b}catch(a){}}},bindStates:function(){var a=this;return a.state.on("change:value",function(b){a.state.get("rendered")&&a.repaintColor(b.value)}),a._super()}}),fH=aM.extend({showPanel:function(){var d=this,b=d.settings;if(d.classes.add("opened"),d.panel){d.panel.show()}else{var f=b.panel;f.type&&(f={layout:"grid",items:f}),f.role=f.role||"dialog",f.popover=!0,f.autohide=!0,f.ariaRoot=!0,d.panel=new cb(f).on("hide",function(){d.classes.remove("opened")}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}var a=d.panel.testMoveRel(d.getEl(),b.popoverAlign||(d.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"]));d.panel.classes.toggle("start","l"===a.substr(-1)),d.panel.classes.toggle("end","r"===a.substr(-1));var c="t"===a.substr(0,1);d.panel.classes.toggle("bottom",!c),d.panel.classes.toggle("top",c),d.panel.moveRel(d.getEl(),a)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var a=this;return a.aria("haspopup",!0),a.on("click",function(b){b.control===a&&(a.panel&&a.panel.visible()?a.hidePanel():(a.showPanel(),a.panel.focus(!!b.aria)))}),a._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),am=eq.DOM,cu=fH.extend({init:function(a){this._super(a),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(a){return a?(this._color=a,this.getEl("preview").style.backgroundColor=a,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var b=this,f=b._id,h=b.classPrefix,a=b.state.get("text"),d=b.settings.icon?h+"ico "+h+"i-"+b.settings.icon:"",g=b.settings.image?" style=\"background-image: url('"+b.settings.image+"')\"":"",c="";return a&&(b.classes.add("btn-has-text"),c='<span class="'+h+'txt">'+b.encode(a)+"</span>"),'<div id="'+f+'" class="'+b.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+g+"></i>":"")+'<span id="'+f+'-preview" class="'+h+'preview"></span>'+c+'</button><button type="button" class="'+h+'open" hidefocus="1" tabindex="-1"> <i class="'+h+'caret"></i></button></div>'},postRender:function(){var a=this,b=a.settings.onclick;return a.on("click",function(c){c.aria&&"down"===c.aria.key||c.control!==a||am.getParent(c.target,"."+a.classPrefix+"open")||(c.stopImmediatePropagation(),b.call(a,c))}),delete a.settings.onclick,a._super()}}),b8=tinymce.util.Tools.resolve("tinymce.util.Color"),bJ=fw.extend({Defaults:{classes:"widget colorpicker"},init:function(a){this._super(a)},postRender:function(){var f,h,b,d,v,m=this,g=m.color();function p(c,o){var s,a,l=cM.getPos(c);return s=o.pageX-l.x,a=o.pageY-l.y,{x:s=Math.max(0,Math.min(s/c.clientWidth,1)),y:a=Math.max(0,Math.min(a/c.clientHeight,1))}}function k(a,c){var i=(360-a.h)/360;cM.css(b,{top:100*i+"%"}),c||cM.css(v,{left:a.s+"%",top:100-a.v+"%"}),d.style.background=b8({s:100,v:100,h:a.h}).toHex(),m.color().parse({s:a.s,v:a.v,h:a.h})}function q(a){var c;c=p(d,a),f.s=100*c.x,f.v=100*(1-c.y),k(f),m.fire("change")}function j(a){var c;c=p(h,a),(f=g.toHsv()).h=360*(1-c.y),k(f,!0),m.fire("change")}h=m.getEl("h"),b=m.getEl("hp"),d=m.getEl("sv"),v=m.getEl("svp"),m._repaint=function(){k(f=g.toHsv())},m._super(),m._svdraghelper=new c2(m._id+"-sv",{start:q,drag:q}),m._hdraghelper=new c2(m._id+"-h",{start:j,drag:j}),m._repaint()},rgb:function(){return this.color().toRgb()},value:function(a){if(!arguments.length){return this.color().toHex()}this.color().parse(a),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=b8()),this._color},renderHtml:function(){var a,c=this._id,d=this.classPrefix,b="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return a='<div id="'+c+'-h" class="'+d+'colorpicker-h" style="background: -ms-linear-gradient(top,'+b+");background: linear-gradient(to bottom,"+b+');">'+function(){var g,j,k,f,h="";for(k="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",g=0,j=(f=b.split(",")).length-1;g<j;g++){h+='<div class="'+d+'colorpicker-h-chunk" style="height:'+100/j+"%;"+k+f[g]+",endColorstr="+f[g+1]+");-ms-"+k+f[g]+",endColorstr="+f[g+1]+')"></div>'}return h}()+'<div id="'+c+'-hp" class="'+d+'colorpicker-h-marker"></div></div>','<div id="'+c+'" class="'+this.classes+'"><div id="'+c+'-sv" class="'+d+'colorpicker-sv"><div class="'+d+'colorpicker-overlay1"><div class="'+d+'colorpicker-overlay2"><div id="'+c+'-svp" class="'+d+'colorpicker-selector1"><div class="'+d+'colorpicker-selector2"></div></div></div></div></div>'+a+"</div>"}}),bD=fw.extend({init:function(a){a=fA.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},a),this._super(a),this.classes.add("dropzone"),a.multiple&&this.classes.add("multiple")},renderHtml:function(){var a,b,c=this.settings;return a={id:this._id,hidefocus:"1"},b=cM.create("div",a,"<span>"+this.translate(c.text)+"</span>"),c.height&&cM.css(b,"height",c.height+"px"),c.width&&cM.css(b,"width",c.width+"px"),b.className=this.classes,b.outerHTML},postRender:function(){var b=this,a=function(c){c.preventDefault(),b.classes.toggle("dragenter"),b.getEl().className=b.classes};b._super(),b.$el.on("dragover",function(c){c.preventDefault()}),b.$el.on("dragenter",a),b.$el.on("dragleave",a),b.$el.on("drop",function(c){if(c.preventDefault(),!b.state.get("disabled")){var d=function(f){var g=b.settings.accept;if("string"!=typeof g){return f}var h=new RegExp("("+g.split(/\s*,\s*/).join("|")+")$","i");return fA.grep(f,function(e){return h.test(e.name)})}(c.dataTransfer.files);b.value=function(){return d.length?b.settings.multiple?d:d[0]:null},d.length&&b.fire("change",c)}})},remove:function(){this.$el.off(),this._super()}}),cf=fw.extend({init:function(a){var b=this;a.delimiter||(a.delimiter="\xbb"),b._super(a),b.classes.add("path"),b.canFocus=!0,b.on("click",function(c){var d;(d=c.target.getAttribute("data-index"))&&b.fire("select",{value:b.row()[d],index:d})}),b.row(b.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(a){return arguments.length?(this.state.set("row",a),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var a=this;return a.state.on("change:row",function(b){a.innerHtml(a._getDataPathHtml(b.value))}),a._super()},_getDataPathHtml:function(b){var d,g,a=b||[],c="",f=this.classPrefix;for(d=0,g=a.length;d<g;d++){c+=(0<d?'<div class="'+f+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+f+"path-item"+(d===g-1?" "+f+"last":"")+'" data-index="'+d+'" tabindex="-1" id="'+this._id+"-"+d+'" aria-level="'+(d+1)+'">'+a[d].name+"</div>"}return c||(c='<div class="'+f+'path-item">\xa0</div>'),c}}),bN=cf.extend({postRender:function(){var d=this,c=d.settings.editor;function b(a){if(1===a.nodeType){if("BR"===a.nodeName||a.getAttribute("data-mce-bogus")){return !0}if("bookmark"===a.getAttribute("data-mce-type")){return !0}}return !1}return !1!==c.settings.elementpath&&(d.on("select",function(a){c.focus(),c.selection.select(this.row()[a.index].element),c.nodeChanged()}),c.on("nodeChange",function(f){for(var h=[],j=f.parents,a=j.length;a--;){if(1===j[a].nodeType&&!b(j[a])){var g=c.fire("ResolveName",{name:j[a].nodeName.toLowerCase(),target:j[a]});if(g.isDefaultPrevented()||h.push({name:g.name,element:j[a]}),g.isPropagationStopped()){break}}}d.row(h)})),d._super()}}),c5=aO.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var a=this,b=a._layout,c=a.classPrefix;return a.classes.add("formitem"),b.preRender(a),'<div id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1">'+(a.settings.title?'<div id="'+a._id+'-title" class="'+c+'title">'+a.settings.title+"</div>":"")+'<div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+(a.settings.html||"")+b.renderHtml(a)+"</div></div>"}}),eP=aO.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var b=this,a=b.items();b.settings.formItemDefaults||(b.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),a.each(function(c){var d,f=c.settings.label;f&&((d=new c5(fA.extend({items:{type:"label",id:c._id+"-l",text:f,flex:0,forId:c._id,disabled:c.disabled()}},b.settings.formItemDefaults))).type="formitem",c.aria("labelledby",c._id+"-l"),"undefined"==typeof c.settings.flex&&(c.settings.flex=1),b.replace(c,d),d.add(c))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var b=this;function a(){var d,g,c=0,f=[];if(!1!==b.settings.labelGapCalc){for(("children"===b.settings.labelGapCalc?b.find("formitem"):b.items()).filter("formitem").each(function(h){var i=h.items()[0],j=i.getEl().clientWidth;c=c<j?j:c,f.push(i)}),g=b.settings.labelGap||0,d=f.length;d--;){f[d].settings.minWidth=c+g}}}b._super(),b.on("show",a),a()}}),f3=eP.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var a=this,b=a._layout,c=a.classPrefix;return a.preRender(),b.preRender(a),'<fieldset id="'+a._id+'" class="'+a.classes+'" hidefocus="1" tabindex="-1">'+(a.settings.title?'<legend id="'+a._id+'-title" class="'+c+'fieldset-title">'+a.settings.title+"</legend>":"")+'<div id="'+a._id+'-body" class="'+a.bodyClasses+'">'+(a.settings.html||"")+b.renderHtml(a)+"</div></fieldset>"}}),ef=0,bk=function(a){if(null===a||a===undefined){throw new Error("Node cannot be null or undefined")}return{dom:cI(a)}},c9={fromHtml:function(a,b){var c=(b||document).createElement("div");if(c.innerHTML=a,!c.hasChildNodes()||1<c.childNodes.length){throw console.error("HTML does not have a single root node",a),"HTML must have a single root node"}return bk(c.childNodes[0])},fromTag:function(a,b){var c=(b||document).createElement(a);return bk(c)},fromText:function(a,b){var c=(b||document).createTextNode(a);return bk(c)},fromDom:bk,fromPoint:function(b,c,d){var a=b.dom();return bR.from(a.elementFromPoint(c,d)).map(bk)}},a4=function(c){var a,b=!1;return function(){for(var d=[],f=0;f<arguments.length;f++){d[f]=arguments[f]}return b||(b=!0,a=c.apply(null,d)),a}},d3={ATTRIBUTE:Node.ATTRIBUTE_NODE,CDATA_SECTION:Node.CDATA_SECTION_NODE,COMMENT:Node.COMMENT_NODE,DOCUMENT:Node.DOCUMENT_NODE,DOCUMENT_TYPE:Node.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT:Node.DOCUMENT_FRAGMENT_NODE,ELEMENT:Node.ELEMENT_NODE,TEXT:Node.TEXT_NODE,PROCESSING_INSTRUCTION:Node.PROCESSING_INSTRUCTION_NODE,ENTITY_REFERENCE:Node.ENTITY_REFERENCE_NODE,ENTITY:Node.ENTITY_NODE,NOTATION:Node.NOTATION_NODE},cs=function(a){return a.dom().nodeType},dk=function(a){return function(b){return cs(b)===a}},bC=(dk(d3.ELEMENT),dk(d3.TEXT),dk(d3.DOCUMENT),a4(function(){return bC(c9.fromDom(document))}),function(a){var b=a.dom().body;if(null===b||b===undefined){throw"Body is not available yet"}return c9.fromDom(b)}),b7=function(b,c){var d=function(g,h){for(var j=0;j<g.length;j++){var f=g[j];if(f.test(h)){return f}}return undefined}(b,c);if(!d){return{major:0,minor:0}}var a=function(e){return Number(c.replace(d,"$"+e))};return fQ(a(1),a(2))},bj=function(){return fQ(0,0)},fQ=function(a,b){return{major:a,minor:b}},cO={nu:fQ,detect:function(a,b){var c=String(b).toLowerCase();return 0===a.length?bj():b7(a,c)},unknown:bj},aT="Firefox",eL=function(a,b){return function(){return b===a}},ed=function(a){var b=a.current;return{current:b,version:a.version,isEdge:eL("Edge",b),isChrome:eL("Chrome",b),isIE:eL("IE",b),isOpera:eL("Opera",b),isFirefox:eL(aT,b),isSafari:eL("Safari",b)}},dS={unknown:function(){return ed({current:undefined,version:cO.unknown()})},nu:ed,edge:cI("Edge"),chrome:cI("Chrome"),ie:cI("IE"),opera:cI("Opera"),firefox:cI(aT),safari:cI("Safari")},dy="Windows",cD="Android",dI="Solaris",bW="FreeBSD",aI=function(a,b){return function(){return b===a}},fo=function(a){var b=a.current;return{current:b,version:a.version,isWindows:aI(dy,b),isiOS:aI("iOS",b),isAndroid:aI(cD,b),isOSX:aI("OSX",b),isLinux:aI("Linux",b),isSolaris:aI(dI,b),isFreeBSD:aI(bW,b)}},fZ={unknown:function(){return fo({current:undefined,version:cO.unknown()})},nu:fo,windows:cI(dy),ios:cI("iOS"),android:cI(cD),linux:cI("Linux"),osx:cI("OSX"),solaris:cI(dI),freebsd:cI(bW)},af=function(a,b){var c=String(b).toLowerCase();return aA(a,function(d){return d.search(c)})},ay=function(a,b){return af(a,b).map(function(c){var d=cO.detect(c.versionRegexes,b);return{current:c.name,version:d}})},al=function(a,b){return af(a,b).map(function(c){var d=cO.detect(c.versionRegexes,b);return{current:c.name,version:d}})},aY=function(a,b){return -1!==a.indexOf(b)},c1=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,aD=function(a){return function(b){return aY(b,a)}},cY=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return aY(a,"edge/")&&aY(a,"chrome")&&aY(a,"safari")&&aY(a,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,c1],search:function(a){return aY(a,"chrome")&&!aY(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return aY(a,"msie")||aY(a,"trident")}},{name:"Opera",versionRegexes:[c1,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:aD("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:aD("firefox")},{name:"Safari",versionRegexes:[c1,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(aY(a,"safari")||aY(a,"mobile/"))&&aY(a,"applewebkit")}}],cG=[{name:"Windows",search:aD("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return aY(a,"iphone")||aY(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:aD("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:aD("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:aD("linux"),versionRegexes:[]},{name:"Solaris",search:aD("sunos"),versionRegexes:[]},{name:"FreeBSD",search:aD("freebsd"),versionRegexes:[]}],fU={browsers:cI(cY),oses:cI(cG)},dV=function(E){var z,k,v,b,j,F,C,q,D,B,A,y=fU.browsers(),w=fU.oses(),p=ay(y,E).fold(dS.unknown,dS.nu),x=al(w,E).fold(fZ.unknown,fZ.nu);return{browser:p,os:x,deviceType:(k=p,v=E,b=(z=x).isiOS()&&!0===/ipad/i.test(v),j=z.isiOS()&&!b,F=z.isAndroid()&&3===z.version.major,C=z.isAndroid()&&4===z.version.major,q=b||F||C&&!0===/mobile/i.test(v),D=z.isiOS()||z.isAndroid(),B=D&&!q,A=k.isSafari()&&z.isiOS()&&!1===/safari/i.test(v),{isiPad:cI(b),isiPhone:cI(j),isTablet:cI(q),isPhone:cI(B),isTouch:cI(D),isAndroid:z.isAndroid,isiOS:z.isiOS,isWebView:cI(A)})}},cR=a4(function(){var a=navigator.userAgent;return dV(a)}),dL=d3.ELEMENT,dB=d3.DOCUMENT,aN=function(a){return a.nodeType!==dL&&a.nodeType!==dB||0===a.childElementCount},dp={all:function(a,b){var c=b===undefined?document:b.dom();return aN(c)?[]:ac(c.querySelectorAll(a),c9.fromDom)},is:function(a,b){var c=a.dom();if(c.nodeType!==dL){return !1}if(c.matches!==undefined){return c.matches(b)}if(c.msMatchesSelector!==undefined){return c.msMatchesSelector(b)}if(c.webkitMatchesSelector!==undefined){return c.webkitMatchesSelector(b)}if(c.mozMatchesSelector!==undefined){return c.mozMatchesSelector(b)}throw new Error("Browser lacks native selectors")},one:function(a,b){var c=b===undefined?document:b.dom();return aN(c)?bR.none():bR.from(c.querySelector(a)).map(c9.fromDom)}},bZ=(cR().browser.isIE(),function(){for(var a=[],b=0;b<arguments.length;b++){a[b]=arguments[b]}}("element","offset"),function(a,b){return dp.all(b,a)}),bu=fA.trim,a9=function(a){return function(b){if(b&&1===b.nodeType){if(b.contentEditable===a){return !0}if(b.getAttribute("data-mce-contenteditable")===a){return !0}}return !1}},d6=a9("true"),fB=a9("false"),fK=function(b,d,f,a,c){return{type:b,title:d,url:f,level:a,attach:c}},aq=function(a){return a.innerText||a.textContent},cw=function(a){return a.id?a.id:(b="h",c=(new Date).getTime(),b+"_"+Math.floor(1000000000*Math.random())+ ++ef+String(c));var b,c},ca=function(a){return(b=a)&&"A"===b.nodeName&&(b.id||b.name)&&bF(a);var b},bM=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)},bF=function(a){return function(b){for(;b=b.parentNode;){var c=b.contentEditable;if(c&&"inherit"!==c){return d6(b)}}return !1}(a)&&!fB(a)},cj=function(a){return bM(a)&&bF(a)},bP=function(a){var b,c=cw(a);return fK("header",aq(a),"#"+c,bM(b=a)?parseInt(b.nodeName.substr(1),10):0,function(){a.id=c})},c8=function(a){var b=a.id||a.name,c=aq(a);return fK("anchor",c||"#"+b,"#"+b,0,fI)},eW=function(a){var b,c;return b="h1,h2,h3,h4,h5,h6,a:not([href])",c=a,ac(bZ(c9.fromDom(c),b),function(d){return d.dom()})},f4=function(a){return 0<bu(a.title).length},eh=function(a){var b,c=eW(a);return cW((b=c,ac(cW(b,cj),bP)).concat(ac(cW(c,ca),c8)),f4)},bp={},db=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},a1=function(a,b){return{title:a,value:{title:a,url:b,attach:fI}}},dY=function(b,c,d){var a=c in b?b[c]:d;return !1===a?null:a},ch=function(y,k,b,p){var h,g,z,w,j,x,v={title:"-"},q=function(a){var c=a.hasOwnProperty(b)?a[b]:[],d=cW(c,function(f){return i=f,!av(k,function(e){return e.url===i});var i});return fA.map(d,function(e){return{title:e,value:{title:e,url:e,attach:fI}}})},m=function(c){var a,d=cW(k,function(e){return e.type===c});return a=d,fA.map(a,db)};return !1===p.typeahead_urls?[]:"file"===b?(h=[bx(y,q(bp)),bx(y,m("header")),bx(y,(w=m("anchor"),j=dY(p,"anchor_top","#top"),x=dY(p,"anchor_bottom","#bottom"),null!==j&&w.unshift(a1("<top>",j)),null!==x&&w.push(a1("<bottom>",x)),w))],g=function(a,c){return 0===a.length||0===c.length?a.concat(c):a.concat(v,c)},z=[],aV(h,function(a){z=g(z,a)}),z):bx(y,q(bp))},df=function(b,d){var g,a,c,f=bp[d];/^https?/.test(b)&&(f?(g=f,a=b,c=f6(g,a),-1===c?bR.none():bR.some(c)).isNone()&&(bp[d]=f.slice(0,5).concat(b)):bp[d]=[b])},bx=function(b,c){var d=b.toLowerCase(),a=fA.grep(c,function(e){return -1!==e.title.toLowerCase().indexOf(d)});return 1===a.length&&a[0].title===b?[]:a},b2=function(c,b,d){var a=b.filepicker_validator_handler;a&&c.state.on("change:value",function(f){var g;0!==(g=f.value).length?a({url:g,type:d},function(j){var l,m,h,k=(m=(l=j).status,h=l.message,"valid"===m?{status:"ok",message:h}:"unknown"===m?{status:"warn",message:h}:"invalid"===m?{status:"warn",message:h}:{status:"none",message:""});c.statusMessage(k.message),c.statusLevel(k.status)}):c.statusLevel("none")})},bc=d4.extend({Statics:{clearHistory:function(){bp={}}},init:function(y){var p,h,k,b,g,z,w,j,x=this,v=window.tinymce?window.tinymce.activeEditor:e9.activeEditor,q=v.settings,m=y.filetype;y.spellcheck=!1,(k=q.file_picker_types||q.file_browser_callback_types)&&(k=fA.makeMap(k,/[, ]/)),k&&!k[m]||(!(h=q.file_picker_callback)||k&&!k[m]?!(h=q.file_browser_callback)||k&&!k[m]||(p=function(){h(x.getEl("inp").id,x.value(),m,window)}):p=function(){var a=x.fire("beforecall").meta;a=fA.extend({filetype:m},a),h.call(v,function(c,d){x.value(c).fire("change",{meta:d})},x.value(),a)}),p&&(y.icon="browse",y.onaction=p),x._super(y),x.classes.add("filepicker"),b=x,g=q,z=v.getBody(),w=m,j=function(a){var c=eh(z),d=ch(a,c,w,g);b.showAutoComplete(d,a)},b.on("autocomplete",function(){j(b.value())}),b.on("selectitem",function(c){var d=c.value;b.value(d.url);var f,a=(f=d.title).raw?f.raw:f;"image"===w?b.fire("change",{meta:{alt:a,attach:d.attach}}):b.fire("change",{meta:{text:a,attach:d.attach}}),b.focus()}),b.on("click",function(a){0===b.value().length&&"INPUT"===a.target.nodeName&&j("")}),b.on("PostRender",function(){b.getRoot().on("submit",function(a){a.isDefaultPrevented()||df(b.value(),w)})}),b2(x,q,m)}}),fJ=dz.extend({recalc:function(a){var b=a.layoutRect(),c=a.paddingBox;a.items().filter(":visible").each(function(d){d.layoutRect({x:c.left,y:c.top,w:b.innerW-c.right-c.left,h:b.innerH-c.top-c.bottom}),d.recalc&&d.recalc()})}}),cJ=dz.extend({recalc:function(ci){var eo,de,dt,co,ct,cn,fi,dn,ce,et,er,en,ee,di,ei,cr,bt,fe,bi,bn,br,fn,ao,J,ai,dr,q,Z,V,G,U,Q,an,K,j,at,ar,X=[],Y=Math.max,be=Math.min;for(dt=ci.items().filter(":visible"),co=ci.layoutRect(),ct=ci.paddingBox,cn=ci.settings,en=ci.isRtl()?cn.direction||"row-reversed":cn.direction,fi=cn.align,dn=ci.isRtl()?cn.pack||"end":cn.pack,ce=cn.spacing||0,"row-reversed"!==en&&"column-reverse"!==en||(dt=dt.set(dt.toArray().reverse()),en=en.split("-")[0]),"column"===en?(J="y",fn="h",ao="minH",ai="maxH",q="innerH",dr="top",Z="deltaH",V="contentH",K="left",Q="w",G="x",U="innerW",an="minW",j="right",at="deltaW",ar="contentW"):(J="x",fn="w",ao="minW",ai="maxW",q="innerW",dr="left",Z="deltaW",V="contentW",K="top",Q="h",G="y",U="innerH",an="minH",j="bottom",at="deltaH",ar="contentH"),er=co[q]-ct[dr]-ct[dr],br=et=0,eo=0,de=dt.length;eo<de;eo++){di=(ee=dt[eo]).layoutRect(),er-=eo<de-1?ce:0,0<(ei=ee.settings.flex)&&(et+=ei,di[ai]&&X.push(ee),di.flex=ei),er-=di[ao],br<(cr=ct[K]+di[an]+ct[j])&&(br=cr)}if((bi={})[ao]=er<0?co[ao]-er+co[Z]:co[q]-er+co[Z],bi[an]=br+co[at],bi[V]=co[q]-er,bi[ar]=br,bi.minW=be(bi.minW,co.maxW),bi.minH=be(bi.minH,co.maxH),bi.minW=Y(bi.minW,co.startMinWidth),bi.minH=Y(bi.minH,co.startMinHeight),!co.autoResize||bi.minW===co.minW&&bi.minH===co.minH){for(fe=er/et,eo=0,de=X.length;eo<de;eo++){(bt=(di=(ee=X[eo]).layoutRect())[ai])<(cr=di[ao]+di.flex*fe)?(er-=di[ai]-di[ao],et-=di.flex,di.flex=0,di.maxFlexSize=bt):di.maxFlexSize=0}for(fe=er/et,bn=ct[dr],bi={},0===et&&("end"===dn?bn=er+ct[dr]:"center"===dn?(bn=Math.round(co[q]/2-(co[q]-er)/2)+ct[dr])<0&&(bn=ct[dr]):"justify"===dn&&(bn=ct[dr],ce=Math.floor(er/(dt.length-1)))),bi[G]=ct[K],eo=0,de=dt.length;eo<de;eo++){cr=(di=(ee=dt[eo]).layoutRect()).maxFlexSize||di[ao],"center"===fi?bi[G]=Math.round(co[U]/2-di[Q]/2):"stretch"===fi?(bi[Q]=Y(di[an]||0,co[U]-ct[K]-ct[j]),bi[G]=ct[K]):"end"===fi&&(bi[G]=co[U]-di[Q]-ct.top),0<di.flex&&(cr+=di.flex*fe),bi[fn]=cr,bi[J]=bn,ee.layoutRect(bi),ee.recalc&&ee.recalc(),bn+=cr+ce}}else{if(bi.w=bi.minW,bi.h=bi.minH,ci.layoutRect(bi),this.recalc(ci),null===ci._lastRect){var ae=ci.parent();ae&&(ae._lastRect=null,ae.recalc())}}}}),aQ=dJ.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(a){a.items().filter(":visible").each(function(b){b.recalc&&b.recalc()})},isNative:function(){return !0}}),ex=function(a,b){return dp.one(b,a)},d9=function(a,b){return function(){a.execCommand("mceToggleFormat",!1,b)}},dO=function(b,c,d){var a=function(e){d(e,c)};b.formatter?b.formatter.formatChanged(c,a):b.on("init",function(){b.formatter.formatChanged(c,a)})},du=function(a,b){return function(c){dO(a,b,function(d){c.control.active(d)})}},cz=function(b){var d=["alignleft","aligncenter","alignright","alignjustify"],c="alignleft",a=[{text:"Left",icon:"alignleft",onclick:d9(b,"alignleft")},{text:"Center",icon:"aligncenter",onclick:d9(b,"aligncenter")},{text:"Right",icon:"alignright",onclick:d9(b,"alignright")},{text:"Justify",icon:"alignjustify",onclick:d9(b,"alignjustify")}];b.addMenuItem("align",{text:"Align",menu:a}),b.addButton("align",{type:"menubutton",icon:c,menu:a,onShowMenu:function(e){var f=e.control.menu;fA.each(d,function(h,g){f.items().eq(g).each(function(i){return i.active(b.formatter.match(h))})})},onPostRender:function(e){var f=e.control;fA.each(d,function(h,g){dO(b,h,function(i){f.icon(c),i&&f.icon(h)})})}}),fA.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(f,g){b.addButton(g,{active:!1,tooltip:f[0],cmd:f[1],onPostRender:du(b,g)})})},dE=function(a){return a?a.split(",")[0]:""},bS=function(a,b){return function(){var c=this;c.state.set("value",null),a.on("init nodeChange",function(f){var j,l,d,h,k=a.queryCommandValue("FontName"),g=(j=b,h=(l=k)?l.toLowerCase():"",fA.each(j,function(e){e.value.toLowerCase()===h&&(d=e.value)}),fA.each(j,function(e){d||dE(e.value).toLowerCase()!==dE(h).toLowerCase()||(d=e.value)}),d);c.value(g||null),!g&&k&&c.text(dE(k))})}},aG=function(a){a.addButton("fontselect",function(){var b,c=(b=function(d){for(var f=(d=d.replace(/;$/,"").split(";")).length;f--;){d[f]=d[f].split("=")}return d}(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),fA.map(b,function(d){return{text:{raw:d[0]},value:d[1],textStyle:-1===d[1].indexOf("dings")?"font-family:"+d[1]:""}}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:c,fixedWidth:!0,onPostRender:bS(a,c),onselect:function(d){d.control.settings.value&&a.execCommand("FontName",!1,d.control.settings.value)}}})},e7=function(a){aG(a)},fX=function(b,d){return/[0-9.]+px$/.test(b)?(f=72*parseInt(b,10)/96,a=d||0,c=Math.pow(10,a),Math.round(f*c)/c+"pt"):b;var f,a,c},aa=function(b,c,d){var a;return fA.each(b,function(e){e.value===d?a=d:e.value===c&&(a=c)}),a},aw=function(a){a.addButton("fontsizeselect",function(){var c,d,b,f=(c=a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",fA.map(c.split(" "),function(h){var j=h,k=h,g=h.split("=");return 1<g.length&&(j=g[0],k=g[1]),{text:j,value:k}}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:f,fixedWidth:!0,onPostRender:(d=a,b=f,function(){var e=this;d.on("init nodeChange",function(h){var k,l,g,j;if(k=d.queryCommandValue("FontSize")){for(g=3;!j&&0<=g;g--){l=fX(k,g),j=aa(b,l,k)}}e.value(j||null),j||e.text(l)})}),onclick:function(e){e.control.settings.value&&a.execCommand("FontSize",!1,e.control.settings.value)}}})},ad=function(a){aw(a)},aW=function(c,b){var a=b.length;return fA.each(b,function(d){d.menu&&(d.hidden=0===aW(c,d.menu));var f=d.format;f&&(d.hidden=!c.formatter.canApply(f)),d.hidden&&a--}),a},cX=function(c,b){var a=b.items().length;return b.items().each(function(d){d.menu&&d.visible(0<cX(c,d.menu)),!d.menu&&d.settings.menu&&d.visible(0<aW(c,d.settings.menu));var f=d.settings.format;f&&d.visible(c.formatter.canApply(f)),d.visible()||a--}),a},aB=function(m){var g,b,c,h,p,d,j,f,k=(b=0,c=[],h=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],p=function(e){var a=[];if(e){return fA.each(e,function(i){var l={text:i.title,icon:i.icon};if(i.items){l.menu=p(i.items)}else{var o=i.format||"custom"+b++;i.format||(i.name=o,c.push(i)),l.format=o,l.cmd=i.cmd}a.push(l)}),a}},(g=m).on("init",function(){fA.each(c,function(a){g.formatter.register(a.name,a)})}),{type:"menu",items:g.settings.style_formats_merge?g.settings.style_formats?p(h.concat(g.settings.style_formats)):p(h):p(g.settings.style_formats||h),onPostRender:function(a){g.fire("renderFormatsMenu",{control:a.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format){return g.formatter.getCssText(this.settings.format)}},onPostRender:function(){var a=this;a.parent().on("show",function(){var i,l;(i=a.settings.format)&&(a.disabled(!g.formatter.canApply(i)),a.active(g.formatter.match(i))),(l=a.settings.cmd)&&a.active(g.queryCommandState(l))})},onclick:function(){this.settings.format&&d9(g,this.settings.format)(),this.settings.cmd&&g.execCommand(this.settings.cmd)}}});d=k,m.addMenuItem("formats",{text:"Formats",menu:d}),f=k,(j=m).addButton("styleselect",{type:"menubutton",text:"Formats",menu:f,onShowMenu:function(){j.settings.style_formats_autohide&&cX(j,this.menu)}})},cU=function(b,a){return function(){var d,g,c,f=[];return fA.each(a,function(e){f.push({text:e[0],value:e[1],textStyle:function(){return b.formatter.getCssText(e[1])}})}),{type:"listbox",text:a[0][0],values:f,fixedWidth:!0,onselect:function(h){if(h.control){var i=h.control.value();d9(b,i)()}},onPostRender:(d=b,g=f,function(){var h=this;d.on("nodeChange",function(j){var k=d.formatter,e=null;fA.each(j.parents,function(i){if(fA.each(g,function(l){if(c?k.matchNode(i,c,{value:l.value})&&(e=l.value):k.matchNode(i,l.value)&&(e=l.value),e){return !1}}),e){return !1}}),h.value(e)})})}}},cC=function(b){var c,d,a=function(f){for(var g=(f=f.replace(/;$/,"").split(";")).length;g--;){f[g]=f[g].split("=")}return f}(b.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");b.addMenuItem("blockformats",{text:"Blocks",menu:(c=b,d=a,fA.map(d,function(e){return{text:e[0],onclick:d9(c,e[1]),textStyle:function(){return c.formatter.getCssText(e[1])}}}))}),b.addButton("formatselect",cU(b,a))},fP=function(c,b){var d,a;if("string"==typeof b){a=b.split(" ")}else{if(fA.isArray(b)){return function(g){for(var h=[],j=0,f=g.length;j<f;++j){if(!Array.prototype.isPrototypeOf(g[j])){throw new Error("Arr.flatten item "+j+" was not an array, input: "+g)}fO.apply(h,g[j])}return h}(fA.map(b,function(e){return fP(c,e)}))}}return d=fA.grep(a,function(e){return"|"===e||e in c.menuItems}),fA.map(d,function(e){return"|"===e?{text:"-"}:c.menuItems[e]})},dR=function(a){return a&&"-"===a.text},cN=function(a){var b=cW(a,function(c,d,f){return !dR(c)||!dR(f[d-1])});return cW(b,function(c,d,f){return !dR(c)||0<d&&d<f.length-1})},dH=function(b){var d,g,a,c,f=b.settings.insert_button_items;return cN(f?fP(b,f):(d=b,g="insert",a=[{text:"-"}],c=fA.grep(d.menuItems,function(e){return e.context===g}),fA.each(c,function(e){"before"===e.separator&&a.push({text:"|"}),e.prependToContext?a.unshift(e):a.push(e),"after"===e.separator&&a.push({text:"|"})}),a))},dx=function(a){var b;(b=a).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(dH(b)),this.menu.renderNew()}})},aL=function(b){var d,a,c;d=b,fA.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(f,g){d.addButton(g,{active:!1,tooltip:f,onPostRender:du(d,g),onclick:d9(d,g)})}),a=b,fA.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(f,g){a.addButton(g,{tooltip:f[0],cmd:f[1]})}),c=b,fA.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(f,g){c.addButton(g,{active:!1,tooltip:f[0],cmd:f[1],onPostRender:du(c,g)})})},dj=function(a){var b;aL(a),b=a,fA.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(c,d){b.addMenuItem(d,{text:c[0],icon:d,shortcut:c[2],cmd:c[1]})}),b.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:d9(b,"code")})},bV=function(b,a){return function(){var c=this,d=function(){var e="redo"===a?"hasRedo":"hasUndo";return !!b.undoManager&&b.undoManager[e]()};c.disabled(!d()),b.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){c.disabled(b.readonly||!d())})}},bo=function(a){var b,c;(b=a).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:bV(b,"undo"),cmd:"undo"}),b.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:bV(b,"redo"),cmd:"redo"}),(c=a).addButton("undo",{tooltip:"Undo",onPostRender:bV(c,"undo"),cmd:"undo"}),c.addButton("redo",{tooltip:"Redo",onPostRender:bV(c,"redo"),cmd:"redo"})},a7=function(a){var b,c;(b=a).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(c=b,function(){var d=this;c.on("VisualAid",function(e){d.active(e.hasVisual)}),d.active(c.hasVisual)}),cmd:"mceToggleVisualAid"})},d2={setup:function(a){var b;a.rtl&&(eR.rtl=!0),a.on("mousedown",function(){cb.hideAll()}),(b=a).settings.ui_container&&(eN.container=ex(c9.fromDom(document.body),b.settings.ui_container).fold(cI(null),function(c){return c.dom()})),fw.tooltips=!eN.iOS,eR.translate=function(c){return e9.translate(c)},cC(a),cz(a),dj(a),bo(a),ad(a),e7(a),aB(a),a7(a),dx(a)}},fk=dz.extend({recalc:function(ae){var cn,at,br,an,ar,ai,de,bi,Z,cr,co,ci,bt,be,ce,ao,Y,ct,U,V,X,di,Q,A,K,bn,q,J,I=[],z=[];cn=ae.settings,an=ae.items().filter(":visible"),ar=ae.layoutRect(),br=cn.columns||Math.ceil(Math.sqrt(an.length)),at=Math.ceil(an.length/br),ct=cn.spacingH||cn.spacing||0,U=cn.spacingV||cn.spacing||0,V=cn.alignH||cn.align,X=cn.alignV||cn.align,ao=ae.paddingBox,J="reverseRows" in cn?cn.reverseRows:ae.isRtl(),V&&"string"==typeof V&&(V=[V]),X&&"string"==typeof X&&(X=[X]);for(co=0;co<br;co++){I.push(0)}for(ci=0;ci<at;ci++){z.push(0)}for(ci=0;ci<at;ci++){for(co=0;co<br&&(cr=an[ci*br+co]);co++){A=(Z=cr.layoutRect()).minW,K=Z.minH,I[co]=A>I[co]?A:I[co],z[ci]=K>z[ci]?K:z[ci]}}for(bn=ar.innerW-ao.left-ao.right,co=di=0;co<br;co++){di+=I[co]+(0<co?ct:0),bn-=(0<co?ct:0)+I[co]}for(q=ar.innerH-ao.top-ao.bottom,ci=Q=0;ci<at;ci++){Q+=z[ci]+(0<ci?U:0),q-=(0<ci?U:0)+z[ci]}if(di+=ao.left+ao.right,Q+=ao.top+ao.bottom,(bi={}).minW=di+(ar.w-ar.innerW),bi.minH=Q+(ar.h-ar.innerH),bi.contentW=bi.minW-ar.deltaW,bi.contentH=bi.minH-ar.deltaH,bi.minW=Math.min(bi.minW,ar.maxW),bi.minH=Math.min(bi.minH,ar.maxH),bi.minW=Math.max(bi.minW,ar.startMinWidth),bi.minH=Math.max(bi.minH,ar.startMinHeight),!ar.autoResize||bi.minW===ar.minW&&bi.minH===ar.minH){var G;ar.autoResize&&((bi=ae.layoutRect(bi)).contentW=bi.minW-ar.deltaW,bi.contentH=bi.minH-ar.deltaH),G="start"===cn.packV?0:0<q?Math.floor(q/at):0;var F=0,L=cn.flexWidths;if(L){for(co=0;co<L.length;co++){F+=L[co]}}else{F=br}var B=bn/F;for(co=0;co<br;co++){I[co]+=L?L[co]*B:B}for(be=ao.top,ci=0;ci<at;ci++){for(bt=ao.left,de=z[ci]+G,co=0;co<br&&(cr=an[J?ci*br+br-1-co:ci*br+co]);co++){ce=cr.settings,Z=cr.layoutRect(),ai=Math.max(I[co],Z.startMinWidth),Z.x=bt,Z.y=be,"center"===(Y=ce.alignH||(V?V[co]||V[0]:null))?Z.x=bt+ai/2-Z.w/2:"right"===Y?Z.x=bt+ai-Z.w:"stretch"===Y&&(Z.w=ai),"center"===(Y=ce.alignV||(X?X[co]||X[0]:null))?Z.y=be+de/2-Z.h/2:"bottom"===Y?Z.y=be+de-Z.h:"stretch"===Y&&(Z.h=de),cr.layoutRect(Z),bt+=ai+ct,cr.recalc&&cr.recalc()}be+=de+U}}else{if(bi.w=bi.minW,bi.h=bi.minH,ae.layoutRect(bi),this.recalc(ae),null===ae._lastRect){var j=ae.parent();j&&(j._lastRect=null,j.recalc())}}}}),fG=fw.extend({renderHtml:function(){var a=this;return a.classes.add("iframe"),a.canFocus=!1,'<iframe id="'+a._id+'" class="'+a.classes+'" tabindex="-1" src="'+(a.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(a){this.getEl().src=a},html:function(b,c){var d=this,a=this.getEl().contentWindow.document.body;return a?(a.innerHTML=b,c&&c()):eU.setTimeout(function(){d.html(b)}),this}}),ak=fw.extend({init:function(a){this._super(a),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(a){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(a)},help:function(a){this.state.set("help",a)},renderHtml:function(){var a=this,b=a.classPrefix;return'<div id="'+a._id+'" class="'+a.classes+'"><div id="'+a._id+'-body">'+a.encode(a.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+b+"ico "+b+'i-help"></i></button></div></div>'},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.getEl("body").firstChild.data=a.encode(b.value),a.state.get("rendered")&&a.updateLayoutRect()}),a.state.on("change:help",function(b){a.classes.toggle("has-help",b.value),a.state.get("rendered")&&a.updateLayoutRect()}),a._super()}}),cq=fw.extend({init:function(a){var b=this;b._super(a),b.classes.add("widget").add("label"),b.canFocus=!1,a.multiline&&b.classes.add("autoscroll"),a.strong&&b.classes.add("strong")},initLayoutRect:function(){var a=this,b=a._super();return a.settings.multiline&&(cM.getSize(a.getEl()).width>b.maxW&&(b.minW=b.maxW,a.classes.add("multiline")),a.getEl().style.width=b.minW+"px",b.startMinH=b.h=b.minH=Math.min(b.maxH,cM.getSize(a.getEl()).height)),b},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(a){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(a)},renderHtml:function(){var b,d,f=this,a=f.settings.forId,c=f.settings.html?f.settings.html:f.encode(f.state.get("text"));return !a&&(d=f.settings.forName)&&(b=f.getRoot().find("#"+d)[0])&&(a=b._id),a?'<label id="'+f._id+'" class="'+f.classes+'"'+(a?' for="'+a+'"':"")+">"+c+"</label>":'<span id="'+f._id+'" class="'+f.classes+'">'+c+"</span>"},bindStates:function(){var a=this;return a.state.on("change:text",function(b){a.innerHtml(a.encode(b.value)),a.state.get("rendered")&&a.updateLayoutRect()}),a._super()}}),b6=aO.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(a){this._super(a),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(a){a.classes.add("toolbar-item")}),this._super()}}),bI=b6.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),bB=aM.extend({init:function(a){var b=this;b._renderOpen=!0,b._super(a),a=b.settings,b.classes.add("menubtn"),a.fixedWidth&&b.classes.add("fixed-width"),b.aria("haspopup",!0),b.state.set("menu",a.menu||b.render())},showMenu:function(a){var b,c=this;if(c.menu&&c.menu.visible()&&!1!==a){return c.hideMenu()}c.menu||(b=c.state.get("menu")||[],c.classes.add("opened"),b.length?b={type:"menu",animate:!0,items:b}:(b.type=b.type||"menu",b.animate=!0),b.renderTo?c.menu=b.parent(c).show().renderTo():c.menu=aE.create(b).parent(c).renderTo(),c.fire("createmenu"),c.menu.reflow(),c.menu.on("cancel",function(d){d.control.parent()===c.menu&&(d.stopPropagation(),c.focus(),c.hideMenu())}),c.menu.on("select",function(){c.focus()}),c.menu.on("show hide",function(d){d.control===c.menu&&(c.activeMenu("show"===d.type),c.classes.toggle("opened","show"===d.type)),c.aria("expanded","show"===d.type)}).fire("show")),c.menu.show(),c.menu.layoutRect({w:c.layoutRect().w}),c.menu.repaint(),c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),c.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide())},activeMenu:function(a){this.classes.toggle("active",a)},renderHtml:function(){var b,f=this,h=f._id,a=f.classPrefix,d=f.settings.icon,g=f.state.get("text"),c="";return(b=f.settings.image)?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="",g&&(f.classes.add("btn-has-text"),c='<span class="'+a+'txt">'+f.encode(g)+"</span>"),d=f.settings.icon?a+"ico "+a+"i-"+d:"",f.aria("role",f.parent() instanceof bI?"menuitem":"button"),'<div id="'+h+'" class="'+f.classes+'" tabindex="-1" aria-labelledby="'+h+'"><button id="'+h+'-open" role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+c+' <i class="'+a+'caret"></i></button></div>'},postRender:function(){var a=this;return a.on("click",function(b){b.control===a&&function(c,d){for(;c;){if(d===c){return !0}c=c.parentNode}return !1}(b.target,a.getEl())&&(a.focus(),a.showMenu(!b.aria),b.aria&&a.menu.items().filter(":visible")[0].focus())}),a.on("mouseenter",function(c){var d,f=c.control,b=a.parent();f&&b&&f instanceof bB&&f.parent()===b&&(b.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==f&&(e.menu&&e.menu.visible()&&(d=!0),e.hideMenu())}),d&&(f.focus(),f.showMenu()))}),a._super()},bindStates:function(){var a=this;return a.state.on("change:menu",function(){a.menu&&a.menu.remove(),a.menu=null}),a._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});function cd(d,f){var g,e,c=this,b=eR.classPrefix;c.show=function(a,h){function i(){g&&(dG(d).append('<div class="'+b+"throbber"+(f?" "+b+"throbber-inline":"")+'"></div>'),h&&h())}return c.hide(),g=!0,a?e=eU.setTimeout(i,a):i(),c},c.hide=function(){var a=d.lastChild;return eU.clearTimeout(e),a&&-1!==a.className.indexOf("throbber")&&a.parentNode.removeChild(a),g=!1,c}}var bL=cb.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(a){if(a.autohide=!0,a.constrainToViewport=!0,"function"==typeof a.items&&(a.itemsFactory=a.items,a.items=[]),a.itemDefaults){for(var b=a.items,c=b.length;c--;){b[c]=fA.extend({},a.itemDefaults,b[c])}}this._super(a),this.classes.add("menu"),a.animate&&11!==eN.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var b,c=this;function a(){c.throbber&&(c.throbber.hide(),c.throbber=null)}c.settings.itemsFactory&&(c.throbber||(c.throbber=new cd(c.getEl("body"),!0),0===c.items().length?(c.throbber.show(),c.fire("loading")):c.throbber.show(100,function(){c.items().remove(),c.fire("loading")}),c.on("hide close",a)),c.requestTime=b=(new Date).getTime(),c.settings.itemsFactory(function(d){0!==d.length?c.requestTime===b&&(c.getEl().style.width="",c.getEl("body").style.width="",a(),c.items().remove(),c.getEl("body").innerHTML="",c.add(d),c.renderNew(),c.fire("loaded")):c.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var a=this;return a.items().each(function(b){var c=b.settings;if(c.icon||c.image||c.selectable){return !(a._hasIcons=!0)}}),a.settings.itemsFactory&&a.on("postrender",function(){a.settings.itemsFactory&&a.load()}),a.on("show hide",function(b){b.control===a&&("show"===b.type?eU.setTimeout(function(){a.classes.add("in")},0):a.classes.remove("in"))}),a._super()}}),c4=bB.extend({init:function(b){var f,d,g,h,c=this;c._super(b),b=c.settings,c._values=f=b.values,f&&("undefined"!=typeof b.value&&function a(i){for(var j=0;j<i.length;j++){if(d=i[j].selected||b.value===i[j].value){return g=g||i[j].text,c.state.set("value",i[j].value),!0}if(i[j].menu&&a(i[j].menu)){return !0}}}(f),!d&&0<f.length&&(g=f[0].text,c.state.set("value",f[0].value)),c.state.set("menu",f)),c.state.set("text",b.text||g),c.classes.add("listbox"),c.on("select",function(i){var j=i.control;h&&(i.lastControl=h),b.multiple?j.active(!j.active()):c.value(i.control.value()),h=j})},value:function(a){return 0===arguments.length?this.state.get("value"):(void 0===a||(this.settings.values?0<fA.grep(this.settings.values,function(b){return b.value===a}).length?this.state.set("value",a):null===a&&this.state.set("value",null):this.state.set("value",a)),this)},bindStates:function(){var a=this;return a.on("show",function(b){var c,d;c=b.control,d=a.value(),c instanceof bL&&c.items().each(function(e){e.hasMenus()||e.active(e.value()===d)})}),a.state.on("change:value",function(c){var d=function b(h,j){var f;if(h){for(var g=0;g<h.length;g++){if(h[g].value===j){return h[g]}if(h[g].menu&&(f=b(h[g].menu,j))){return f}}}}(a.state.get("menu"),c.value);d?a.text(d.text):a.text(a.settings.text)}),a._super()}}),eI=fw.extend({Defaults:{border:0,role:"menuitem"},init:function(a){var b,c=this;c._super(a),a=c.settings,c.classes.add("menu-item"),a.menu&&c.classes.add("menu-item-expand"),a.preview&&c.classes.add("menu-item-preview"),"-"!==(b=c.state.get("text"))&&"|"!==b||(c.classes.add("menu-item-sep"),c.aria("role","separator"),c.state.set("text","-")),a.selectable&&(c.aria("role","menuitemcheckbox"),c.classes.add("menu-item-checkbox"),a.icon="selected"),a.preview||a.selectable||c.classes.add("menu-item-normal"),c.on("mousedown",function(d){d.preventDefault()}),a.menu&&!a.ariaHideMenu&&c.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var d,f=this,b=f.settings,a=f.parent();if(a.items().each(function(e){e!==f&&e.hideMenu()}),b.menu){(d=f.menu)?d.show():((d=b.menu).length?d={type:"menu",items:d}:d.type=d.type||"menu",a.settings.itemDefaults&&(d.itemDefaults=a.settings.itemDefaults),(d=f.menu=aE.create(d).parent(f).renderTo()).reflow(),d.on("cancel",function(e){e.stopPropagation(),f.focus(),d.hide()}),d.on("show hide",function(e){e.control.items&&e.control.items().each(function(g){g.active(g.settings.selected)})}).fire("show"),d.on("hide",function(e){e.control===d&&f.classes.remove("selected")}),d.submenu=!0),d._parentMenu=a,d.classes.add("menu-sub");var c=d.testMoveRel(f.getEl(),f.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);d.moveRel(f.getEl(),c),c="menu-sub-"+(d.rel=c),d.classes.remove(d._lastRel).add(c),d._lastRel=c,f.classes.add("selected"),f.aria("expanded",!0)}},hideMenu:function(){var a=this;return a.menu&&(a.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),a.menu.hide(),a.aria("expanded",!1)),a},renderHtml:function(){var y,p=this,h=p._id,k=p.settings,b=p.classPrefix,g=p.state.get("text"),z=p.settings.icon,w="",j=k.shortcut,x=p.encode(k.url);function v(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function q(a){var c=k.match||"";return c?a.replace(new RegExp(v(c),"gi"),function(d){return"!mce~match["+d+"]mce~match!"}):a}function m(a){return a.replace(new RegExp(v("!mce~match["),"g"),"<b>").replace(new RegExp(v("]mce~match!"),"g"),"</b>")}return z&&p.parent().classes.add("menu-has-icons"),k.image&&(w=" style=\"background-image: url('"+k.image+"')\""),j&&(j=function(c){var d,f,a={};for(a=eN.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},c=c.split("+"),d=0;d<c.length;d++){(f=a[c[d].toLowerCase()])&&(c[d]=f)}return c.join("+")}(j)),z=b+"ico "+b+"i-"+(p.settings.icon||"none"),y="-"!==g?'<i class="'+z+'"'+w+"></i>\xa0":"",g=m(p.encode(q(g))),x=m(p.encode(q(x))),'<div id="'+h+'" class="'+p.classes+'" tabindex="-1">'+y+("-"!==g?'<span id="'+h+'-text" class="'+b+'text">'+g+"</span>":"")+(j?'<div id="'+h+'-shortcut" class="'+b+'menu-shortcut">'+j+"</div>":"")+(k.menu?'<div class="'+b+'caret"></div>':"")+(x?'<div class="'+b+'menu-item-link">'+x+"</div>":"")+"</div>"},postRender:function(){var c=this,d=c.settings,b=d.textStyle;if("function"==typeof b&&(b=b.call(this)),b){var a=c.getEl("text");a&&(a.setAttribute("style",b),c._textStyle=b)}return c.on("mouseenter click",function(e){e.control===c&&(d.menu||"click"!==e.type?(c.showMenu(),e.aria&&c.menu.focus(!0)):(c.fire("select"),eU.requestAnimationFrame(function(){c.parent().hideAll()})))}),c._super(),c},hover:function(){return this.parent().items().each(function(a){a.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(a){return function(c,d){var f=c._textStyle;if(f){var b=c.getEl("text");b.setAttribute("style",f),d&&(b.style.color="",b.style.backgroundColor="")}}(this,a),void 0!==a&&this.aria("checked",a),this._super(a)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),f2=bq.extend({Defaults:{classes:"radio",role:"radio"}}),ec=fw.extend({renderHtml:function(){var a=this,b=a.classPrefix;return a.classes.add("resizehandle"),"both"===a.settings.direction&&a.classes.add("resizehandle-both"),a.canFocus=!1,'<div id="'+a._id+'" class="'+a.classes+'"><i class="'+b+"ico "+b+'i-resize"></i></div>'},postRender:function(){var a=this;a._super(),a.resizeDragHelper=new c2(this._id,{start:function(){a.fire("ResizeStart")},drag:function(b){"both"!==a.settings.direction&&(b.deltaX=0),a.fire("Resize",b)},stop:function(){a.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function bh(a){var b="";if(a){for(var c=0;c<a.length;c++){b+='<option value="'+a[c]+'">'+a[c]+"</option>"}}return b}var c7=fw.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(a){var b=this;b._super(a),b.settings.size&&(b.size=b.settings.size),b.settings.options&&(b._options=b.settings.options),b.on("keydown",function(c){var d;13===c.keyCode&&(c.preventDefault(),b.parents().reverse().each(function(e){if(e.toJSON){return d=e,!1}}),b.fire("submit",{data:d.toJSON()}))})},options:function(a){return arguments.length?(this.state.set("options",a),this):this.state.get("options")},renderHtml:function(){var a,b=this,c="";return a=bh(b._options),b.size&&(c=' size = "'+b.size+'"'),'<select id="'+b._id+'" class="'+b.classes+'"'+c+">"+a+"</select>"},bindStates:function(){var a=this;return a.state.on("change:options",function(b){a.getEl().innerHTML=bh(b.value)}),a._super()}});function a2(a,b,c){return a<b&&(a=b),c<a&&(a=c),a}function dZ(a,b,c){a.setAttribute("aria-"+b,c)}function ck(b,f){var h,a,d,g,c;"v"===b.settings.orientation?(d="top",a="height",h="h"):(d="left",a="width",h="w"),c=b.getEl("handle"),g=((b.layoutRect()[h]||100)-cM.getSize(c)[a])*((f-b._minValue)/(b._maxValue-b._minValue))+"px",c.style[d]=g,c.style.height=b.layoutRect().h+"px",dZ(c,"valuenow",f),dZ(c,"valuetext",""+b.settings.previewFilter(f)),dZ(c,"valuemin",b._minValue),dZ(c,"valuemax",b._maxValue)}var dg=fw.extend({init:function(a){var b=this;a.previewFilter||(a.previewFilter=function(c){return Math.round(100*c)/100}),b._super(a),b.classes.add("slider"),"v"===a.orientation&&b.classes.add("vertical"),b._minValue=fW(a.minValue)?a.minValue:0,b._maxValue=fW(a.maxValue)?a.maxValue:100,b._initValue=b.state.get("value")},renderHtml:function(){var a=this._id,b=this.classPrefix;return'<div id="'+a+'" class="'+this.classes+'"><div id="'+a+'-handle" class="'+b+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var C,x,j,q,b,g,D,A,p,B,z,y,w,v,k=this;C=k._minValue,x=k._maxValue,"v"===k.settings.orientation?(j="screenY",q="top",b="height",g="h"):(j="screenX",q="left",b="width",g="w"),k._super(),function(d,a){function c(h){var m,o,f,l;m=a2(m=(((m=k.value())+(l=o=d))/((f=a)-l)+0.05*h)*(f-o)-o,d,a),k.value(m),k.fire("dragstart",{value:m}),k.fire("drag",{value:m}),k.fire("dragend",{value:m})}k.on("keydown",function(e){switch(e.keyCode){case 37:case 38:c(-1);break;case 39:case 40:c(1)}})}(C,x),D=C,A=x,p=k.getEl("handle"),k._dragHelper=new c2(k._id,{handle:k._id+"-handle",start:function(a){B=a[j],z=parseInt(k.getEl("handle").style[q],10),y=(k.layoutRect()[g]||100)-cM.getSize(p)[b],k.fire("dragstart",{value:v})},drag:function(a){var c=a[j]-B;w=a2(z+c,0,y),p.style[q]=w+"px",v=D+w/y*(A-D),k.value(v),k.tooltip().text(""+k.settings.previewFilter(v)).show().moveRel(p,"bc tc"),k.fire("drag",{value:v})},stop:function(){k.tooltip().hide(),k.fire("dragend",{value:v})}})},repaint:function(){this._super(),ck(this,this.value())},bindStates:function(){var a=this;return a.state.on("change:value",function(b){ck(a,b.value)}),a._super()}}),by=fw.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),b3=bB.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var b,c,d=this.getEl(),a=this.layoutRect();return this._super(),b=d.firstChild,c=d.lastChild,dG(b).css({width:a.w-cM.getSize(c).width,height:a.h-2}),dG(c).css({height:a.h-2}),this},activeMenu:function(a){dG(this.getEl().lastChild).toggleClass(this.classPrefix+"active",a)},renderHtml:function(){var k,h,d=this,g=d._id,b=d.classPrefix,c=d.state.get("icon"),m=d.state.get("text"),j=d.settings,f="";return(k=j.image)?(c="none","string"!=typeof k&&(k=window.getSelection?k[0]:k[1]),k=" style=\"background-image: url('"+k+"')\""):k="",c=j.icon?b+"ico "+b+"i-"+c:"",m&&(d.classes.add("btn-has-text"),f='<span class="'+b+'txt">'+d.encode(m)+"</span>"),h="boolean"==typeof j.active?' aria-pressed="'+j.active+'"':"",'<div id="'+g+'" class="'+d.classes+'" role="button"'+h+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(c?'<i class="'+c+'"'+k+"></i>":"")+f+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1">'+(d._menuBtnText?(c?"\xa0":"")+d._menuBtnText:"")+' <i class="'+b+'caret"></i></button></div>'},postRender:function(){var a=this.settings.onclick;return this.on("click",function(b){var c=b.target;if(b.control===this){for(;c;){if(b.aria&&"down"!==b.aria.key||"BUTTON"===c.nodeName&&-1===c.className.indexOf("open")){return b.stopImmediatePropagation(),void (a&&a.call(this,b))}c=c.parentNode}}}),delete this.settings.onclick,this._super()}}),bd=aQ.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return !0}}),fL=b0.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(b){var a;this.activeTabId&&(a=this.getEl(this.activeTabId),dG(a).removeClass(this.classPrefix+"active"),a.setAttribute("aria-selected","false")),this.activeTabId="t"+b,(a=this.getEl("t"+b)).setAttribute("aria-selected","true"),dG(a).addClass(this.classPrefix+"active"),this.items()[b].show().fire("showtab"),this.reflow(),this.items().each(function(c,d){b!==d&&c.hide()})},renderHtml:function(){var b=this,a=b._layout,c="",d=b.classPrefix;return b.preRender(),a.preRender(b),b.items().each(function(f,g){var h=b._id+"-t"+g;f.aria("role","tabpanel"),f.aria("labelledby",h),c+='<div id="'+h+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+f._id+'" aria-selected="false" tabIndex="-1">'+b.encode(f.settings.title)+"</div>"}),'<div id="'+b._id+'" class="'+b.classes+'" hidefocus="1" tabindex="-1"><div id="'+b._id+'-head" class="'+d+'tabs" role="tablist">'+c+'</div><div id="'+b._id+'-body" class="'+b.bodyClasses+'">'+a.renderHtml(b)+"</div></div>"},postRender:function(){var a=this;a._super(),a.settings.activeTab=a.settings.activeTab||0,a.activateTab(a.settings.activeTab),this.on("click",function(b){var c=b.target.parentNode;if(c&&c.id===a._id+"-head"){for(var d=c.childNodes.length;d--;){c.childNodes[d]===b.target&&a.activateTab(d)}}})},initLayoutRect:function(){var b,d,f,a=this;d=(d=cM.getSize(a.getEl("head")).width)<0?0:d,f=0,a.items().each(function(e){d=Math.max(d,e.layoutRect().minW),f=Math.max(f,e.layoutRect().minH)}),a.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=d,e.settings.h=f,e.layoutRect({x:0,y:0,w:d,h:f})});var c=cM.getSize(a.getEl("head")).height;return a.settings.minWidth=d,a.settings.minHeight=f+c,(b=a._super()).deltaH+=c,b.innerH=b.h-b.deltaH,b}}),cK=fw.extend({init:function(a){var b=this;b._super(a),b.classes.add("textbox"),a.multiline?b.classes.add("multiline"):(b.on("keydown",function(c){var d;13===c.keyCode&&(c.preventDefault(),b.parents().reverse().each(function(e){if(e.toJSON){return d=e,!1}}),b.fire("submit",{data:d.toJSON()}))}),b.on("keyup",function(c){b.state.set("value",c.target.value)}))},repaint:function(){var d,h,k,c,g,j=this,f=0;d=j.getEl().style,h=j._layoutRect,g=j._lastRepaintRect||{};var b=document;return !j.settings.multiline&&b.all&&(!b.documentMode||b.documentMode<=8)&&(d.lineHeight=h.h-f+"px"),c=(k=j.borderBox).left+k.right+8,f=k.top+k.bottom+(j.settings.multiline?8:0),h.x!==g.x&&(d.left=h.x+"px",g.x=h.x),h.y!==g.y&&(d.top=h.y+"px",g.y=h.y),h.w!==g.w&&(d.width=h.w-c+"px",g.w=h.w),h.h!==g.h&&(d.height=h.h-f+"px",g.h=h.h),j._lastRepaintRect=g,j.fire("repaint",{},!1),j},renderHtml:function(){var c,b,d=this,a=d.settings;return c={id:d._id,hidefocus:"1"},fA.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){c[e]=a[e]}),d.disabled()&&(c.disabled="disabled"),a.subtype&&(c.type=a.subtype),(b=cM.create(a.multiline?"textarea":"input",c)).value=d.state.get("value"),b.className=d.classes.toString(),b.outerHTML},value:function(a){return arguments.length?(this.state.set("value",a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var a=this;a.getEl().value=a.state.get("value"),a._super(),a.$el.on("change",function(b){a.state.set("value",b.target.value),a.fire("change",b)})},bindStates:function(){var a=this;return a.state.on("change:value",function(b){a.getEl().value!==b.value&&(a.getEl().value=b.value)}),a.state.on("change:disabled",function(b){a.getEl().disabled=b.value}),a._super()},remove:function(){this.$el.off(),this._super()}}),aR=function(){return{Selector:bH,Collection:bK,ReflowQueue:d5,Control:eR,Factory:aE,KeyboardNavigation:cH,Container:aO,DragHelper:c2,Scrollable:dq,Panel:b0,Movable:bY,Resizable:bv,FloatPanel:cb,Window:eZ,MessageBox:f5,Tooltip:aJ,Widget:fw,Progress:f0,Notification:az,Layout:dJ,AbsoluteLayout:dz,Button:aM,ButtonGroup:bX,Checkbox:bq,ComboBox:d4,ColorBox:fu,PanelButton:fH,ColorButton:cu,ColorPicker:bJ,Path:cf,ElementPath:bN,FormItem:c5,Form:eP,FieldSet:f3,FilePicker:bc,FitLayout:fJ,FlexLayout:cJ,FlowLayout:aQ,FormatControls:d2,GridLayout:fk,Iframe:fG,InfoBox:ak,Label:cq,Toolbar:b6,MenuBar:bI,MenuButton:bB,MenuItem:eI,Throbber:cd,Menu:bL,ListBox:c4,Radio:f2,ResizeHandle:ec,SelectBox:c7,Slider:dg,Spacer:by,SplitButton:b3,StackLayout:bd,TabPanel:fL,TextBox:cK,DropZone:bD,BrowseButton:dl}},eA=function(a){a.ui?fA.each(aR(),function(b,c){a.ui[c]=b}):a.ui=aR()};fA.each(aR(),function(a,b){aE.add(b,a)}),eA(window.tinymce?window.tinymce:{}),eC.add("inlite",function(a){var b=cP();return d2.setup(a),aX(a,b),ej(a,b)})}();