function getSearchString(j,m,d,b,g,p,c){var l;try{var k=inputValidator(j,d,b,g);d=k.domain;b=k.config;g=k.branch;searchTerm=m.elements.term.value;switch(j){case 3:switch(p){case"ls2":if(searchTerm==""){searchString=d+"/?config="+b+"#section=home"+g}else{searchString=d+"/?config="+b+"#section=search&term="+searchTerm+g}if(/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){searchString=d+"/mobile?config="+b+"#section=search&term="+searchTerm+g;if(searchTerm==""){searchString=d+"/mobile?config="+b+"#section=home"+g}}break;case"kids5":if(searchTerm==""){searchString=d+"/kids?config="+b+"#/categories"}else{searchString=d+"/kids?config="+b+"#/search?searchString="+searchTerm}break;case"kids":if(searchTerm==""){searchString=d+"/kids/?config="+b+"&section=home"}else{searchString=d+"/kids?config="+b+"&section=search&term="+searchTerm}break;case"classic":if(searchTerm==""){searchString=d+"/TLCScripts/interpac.dll?home&Config="+b}else{searchString=d+"/TLCScripts/interpac.dll?search&Config="+b+"&SearchField=1&SearchType=1&SearchData="+searchTerm}break}break;case 2:if(p==true){searchString=d+"/kids?config="+b+"#/search?searchString="+searchTerm;if(searchTerm==""){searchString=d+"/kids?config="+b+"#/categories"}}else{searchString=d+"/?config="+b+"#section=search&term="+searchTerm+g;if(searchTerm==""){searchString=d+"/?config="+b+"#section=home"+g}if(/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){searchString=d+"/mobile?config="+b+"#section=search&term="+searchTerm+g;if(searchTerm==""){searchString=d+"/mobile?config="+b+"#section=home"+g}}}break}if(c==true){window.open(searchString)}else{window.location=searchString}}catch(h){alert("An error has occurred. Please check your search box settings.\n\nError Message: '"+h.message+"' Line: "+h.lineNumber)}return false}function getScoutLink(g,c,j,f,b){var d;try{var h=inputValidator(g,c,j,f);c=h.domain;j=h.config;branchFilter=h.branch;switch(g){case 3:d=c+"/kids?config="+j+"#/categories";break;case 2:d=c+"/kids?config="+j+"#/categories";break}if(b==true){window.open(d)}else{window.location=d}}catch(a){alert("An error has occurred. Please check your search box settings.\n\nError Message: '"+a.message+"' Line: "+a.lineNumber)}return false}function inputValidator(c,a,d,b){if(c===undefined){throw new Error("Version number undefined in calling function.")}if(a===undefined){throw new Error("Domain is undefined.")}if(d===undefined){throw new Error("Config is undefined.")}if(d.substring(0,7)=="config="){d=d.substring(7,d.length)}if(a.substring(0,7)=="http://"||a.substring(0,8)=="https://"){}else{a="http://"+a}if(a.substring(a.length-1,a.length)=="/"){a=a.substring(0,a.length-1)}if(b==""){b=""}else{b=b.replace(/, /g,"', '");b="&branchFilters=['"+b+"']"}return{domain:a,config:d,branch:b}};